

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>docutils.writers.html4css1 &mdash; Sphinx Skeleton</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Sphinx Skeleton" href="../../../index.html"/>
        <link rel="up" title="docutils.writers" href="../writers.html"/> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> Sphinx Skeleton
          

          
          </a>

          
            
            
              <div class="version">
                1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../generated/sphinx.html">1. Sphinx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sphinx.themes.html">2. sphinx/themes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sphinx.ext.html">3. <code class="docutils literal"><span class="pre">sphinx.ext</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sphinx.builders.html">4. <code class="docutils literal"><span class="pre">sphinx.builders</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sphinx.domains.html">5. <code class="docutils literal"><span class="pre">sphinx.domains</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../generated/sphinx.util.html">6. sphinx.util</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sphinx.websupport.html">7. sphinx.websupport</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sphinx.misc.html">8. misc modules</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Sphinx Skeleton</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          













<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">Module code</a> &raquo;</li>
        
          <li><a href="../../docutils.html">docutils</a> &raquo;</li>
        
          <li><a href="../writers.html">docutils.writers</a> &raquo;</li>
        
      <li>docutils.writers.html4css1</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for docutils.writers.html4css1</h1><div class="highlight"><pre>
<span></span><span class="c1"># $Id: __init__.py 7753 2014-06-24 14:52:59Z milde $</span>
<span class="c1"># Author: David Goodger</span>
<span class="c1"># Maintainer: docutils-develop@lists.sourceforge.net</span>
<span class="c1"># Copyright: This module has been placed in the public domain.</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Simple HyperText Markup Language document tree Writer.</span>

<span class="sd">The output conforms to the XHTML version 1.0 Transitional DTD</span>
<span class="sd">(*almost* strict).  The output contains a minimum of formatting</span>
<span class="sd">information.  The cascading style sheet &quot;html4css1.css&quot; is required</span>
<span class="sd">for proper viewing with a modern graphical browser.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="n">__docformat__</span> <span class="o">=</span> <span class="s1">&#39;reStructuredText&#39;</span>


<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">os.path</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">urllib</span>
<span class="k">try</span><span class="p">:</span> <span class="c1"># check for the Python Imaging Library</span>
    <span class="kn">import</span> <span class="nn">PIL.Image</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>  <span class="c1"># sometimes PIL modules are put in PYTHONPATH&#39;s root</span>
        <span class="kn">import</span> <span class="nn">Image</span>
        <span class="k">class</span> <span class="nc">PIL</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span> <span class="k">pass</span>  <span class="c1"># dummy wrapper</span>
        <span class="n">PIL</span><span class="o">.</span><span class="n">Image</span> <span class="o">=</span> <span class="n">Image</span>
    <span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
        <span class="n">PIL</span> <span class="o">=</span> <span class="bp">None</span>
<span class="kn">import</span> <span class="nn">docutils</span>
<span class="kn">from</span> <span class="nn">docutils</span> <span class="kn">import</span> <span class="n">frontend</span><span class="p">,</span> <span class="n">nodes</span><span class="p">,</span> <span class="n">utils</span><span class="p">,</span> <span class="n">writers</span><span class="p">,</span> <span class="n">languages</span><span class="p">,</span> <span class="n">io</span>
<span class="kn">from</span> <span class="nn">docutils.utils.error_reporting</span> <span class="kn">import</span> <span class="n">SafeString</span>
<span class="kn">from</span> <span class="nn">docutils.transforms</span> <span class="kn">import</span> <span class="n">writer_aux</span>
<span class="kn">from</span> <span class="nn">docutils.utils.math</span> <span class="kn">import</span> <span class="n">unichar2tex</span><span class="p">,</span> <span class="n">pick_math_environment</span><span class="p">,</span> <span class="n">math2html</span>
<span class="kn">from</span> <span class="nn">docutils.utils.math.latex2mathml</span> <span class="kn">import</span> <span class="n">parse_latex_math</span>

<span class="k">class</span> <span class="nc">Writer</span><span class="p">(</span><span class="n">writers</span><span class="o">.</span><span class="n">Writer</span><span class="p">):</span>

    <span class="n">supported</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;html&#39;</span><span class="p">,</span> <span class="s1">&#39;html4css1&#39;</span><span class="p">,</span> <span class="s1">&#39;xhtml&#39;</span><span class="p">)</span>
    <span class="sd">&quot;&quot;&quot;Formats this writer supports.&quot;&quot;&quot;</span>

    <span class="n">default_stylesheet</span> <span class="o">=</span> <span class="s1">&#39;html4css1.css&#39;</span>
    <span class="n">default_stylesheet_dirs</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="n">utils</span><span class="o">.</span><span class="n">relative_path</span><span class="p">(</span>
        <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">(),</span> <span class="s1">&#39;dummy&#39;</span><span class="p">),</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">__file__</span><span class="p">))]</span>

    <span class="n">default_template</span> <span class="o">=</span> <span class="s1">&#39;template.txt&#39;</span>

    <span class="n">default_template_path</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">relative_path</span><span class="p">(</span>
        <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">(),</span> <span class="s1">&#39;dummy&#39;</span><span class="p">),</span>
        <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">__file__</span><span class="p">),</span> <span class="n">default_template</span><span class="p">))</span>

    <span class="n">settings_spec</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s1">&#39;HTML-Specific Options&#39;</span><span class="p">,</span>
        <span class="bp">None</span><span class="p">,</span>
        <span class="p">((</span><span class="s1">&#39;Specify the template file (UTF-8 encoded).  Default is &quot;</span><span class="si">%s</span><span class="s1">&quot;.&#39;</span>
          <span class="o">%</span> <span class="n">default_template_path</span><span class="p">,</span>
          <span class="p">[</span><span class="s1">&#39;--template&#39;</span><span class="p">],</span>
          <span class="p">{</span><span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="n">default_template_path</span><span class="p">,</span> <span class="s1">&#39;metavar&#39;</span><span class="p">:</span> <span class="s1">&#39;&lt;file&gt;&#39;</span><span class="p">}),</span>
         <span class="p">(</span><span class="s1">&#39;Comma separated list of stylesheet URLs. &#39;</span>
          <span class="s1">&#39;Overrides previous --stylesheet and --stylesheet-path settings.&#39;</span><span class="p">,</span>
          <span class="p">[</span><span class="s1">&#39;--stylesheet&#39;</span><span class="p">],</span>
          <span class="p">{</span><span class="s1">&#39;metavar&#39;</span><span class="p">:</span> <span class="s1">&#39;&lt;URL[,URL,...]&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;overrides&#39;</span><span class="p">:</span> <span class="s1">&#39;stylesheet_path&#39;</span><span class="p">,</span>
           <span class="s1">&#39;validator&#39;</span><span class="p">:</span> <span class="n">frontend</span><span class="o">.</span><span class="n">validate_comma_separated_list</span><span class="p">}),</span>
         <span class="p">(</span><span class="s1">&#39;Comma separated list of stylesheet paths. &#39;</span>
          <span class="s1">&#39;Relative paths are expanded if a matching file is found in &#39;</span>
          <span class="s1">&#39;the --stylesheet-dirs. With --link-stylesheet, &#39;</span>
          <span class="s1">&#39;the path is rewritten relative to the output HTML file. &#39;</span>
          <span class="s1">&#39;Default: &quot;</span><span class="si">%s</span><span class="s1">&quot;&#39;</span> <span class="o">%</span> <span class="n">default_stylesheet</span><span class="p">,</span>
          <span class="p">[</span><span class="s1">&#39;--stylesheet-path&#39;</span><span class="p">],</span>
          <span class="p">{</span><span class="s1">&#39;metavar&#39;</span><span class="p">:</span> <span class="s1">&#39;&lt;file[,file,...]&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;overrides&#39;</span><span class="p">:</span> <span class="s1">&#39;stylesheet&#39;</span><span class="p">,</span>
           <span class="s1">&#39;validator&#39;</span><span class="p">:</span> <span class="n">frontend</span><span class="o">.</span><span class="n">validate_comma_separated_list</span><span class="p">,</span>
           <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">default_stylesheet</span><span class="p">]}),</span>
         <span class="p">(</span><span class="s1">&#39;Embed the stylesheet(s) in the output HTML file.  The stylesheet &#39;</span>
          <span class="s1">&#39;files must be accessible during processing. This is the default.&#39;</span><span class="p">,</span>
          <span class="p">[</span><span class="s1">&#39;--embed-stylesheet&#39;</span><span class="p">],</span>
          <span class="p">{</span><span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;action&#39;</span><span class="p">:</span> <span class="s1">&#39;store_true&#39;</span><span class="p">,</span>
           <span class="s1">&#39;validator&#39;</span><span class="p">:</span> <span class="n">frontend</span><span class="o">.</span><span class="n">validate_boolean</span><span class="p">}),</span>
         <span class="p">(</span><span class="s1">&#39;Link to the stylesheet(s) in the output HTML file. &#39;</span>
          <span class="s1">&#39;Default: embed stylesheets.&#39;</span><span class="p">,</span>
          <span class="p">[</span><span class="s1">&#39;--link-stylesheet&#39;</span><span class="p">],</span>
          <span class="p">{</span><span class="s1">&#39;dest&#39;</span><span class="p">:</span> <span class="s1">&#39;embed_stylesheet&#39;</span><span class="p">,</span> <span class="s1">&#39;action&#39;</span><span class="p">:</span> <span class="s1">&#39;store_false&#39;</span><span class="p">}),</span>
         <span class="p">(</span><span class="s1">&#39;Comma-separated list of directories where stylesheets are found. &#39;</span>
          <span class="s1">&#39;Used by --stylesheet-path when expanding relative path arguments. &#39;</span>
          <span class="s1">&#39;Default: &quot;</span><span class="si">%s</span><span class="s1">&quot;&#39;</span> <span class="o">%</span> <span class="n">default_stylesheet_dirs</span><span class="p">,</span>
          <span class="p">[</span><span class="s1">&#39;--stylesheet-dirs&#39;</span><span class="p">],</span>
          <span class="p">{</span><span class="s1">&#39;metavar&#39;</span><span class="p">:</span> <span class="s1">&#39;&lt;dir[,dir,...]&gt;&#39;</span><span class="p">,</span>
           <span class="s1">&#39;validator&#39;</span><span class="p">:</span> <span class="n">frontend</span><span class="o">.</span><span class="n">validate_comma_separated_list</span><span class="p">,</span>
           <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="n">default_stylesheet_dirs</span><span class="p">}),</span>
         <span class="p">(</span><span class="s1">&#39;Specify the initial header level.  Default is 1 for &quot;&lt;h1&gt;&quot;.  &#39;</span>
          <span class="s1">&#39;Does not affect document title &amp; subtitle (see --no-doc-title).&#39;</span><span class="p">,</span>
          <span class="p">[</span><span class="s1">&#39;--initial-header-level&#39;</span><span class="p">],</span>
          <span class="p">{</span><span class="s1">&#39;choices&#39;</span><span class="p">:</span> <span class="s1">&#39;1 2 3 4 5 6&#39;</span><span class="o">.</span><span class="n">split</span><span class="p">(),</span> <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span>
           <span class="s1">&#39;metavar&#39;</span><span class="p">:</span> <span class="s1">&#39;&lt;level&gt;&#39;</span><span class="p">}),</span>
         <span class="p">(</span><span class="s1">&#39;Specify the maximum width (in characters) for one-column field &#39;</span>
          <span class="s1">&#39;names.  Longer field names will span an entire row of the table &#39;</span>
          <span class="s1">&#39;used to render the field list.  Default is 14 characters.  &#39;</span>
          <span class="s1">&#39;Use 0 for &quot;no limit&quot;.&#39;</span><span class="p">,</span>
          <span class="p">[</span><span class="s1">&#39;--field-name-limit&#39;</span><span class="p">],</span>
          <span class="p">{</span><span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="mi">14</span><span class="p">,</span> <span class="s1">&#39;metavar&#39;</span><span class="p">:</span> <span class="s1">&#39;&lt;level&gt;&#39;</span><span class="p">,</span>
           <span class="s1">&#39;validator&#39;</span><span class="p">:</span> <span class="n">frontend</span><span class="o">.</span><span class="n">validate_nonnegative_int</span><span class="p">}),</span>
         <span class="p">(</span><span class="s1">&#39;Specify the maximum width (in characters) for options in option &#39;</span>
          <span class="s1">&#39;lists.  Longer options will span an entire row of the table used &#39;</span>
          <span class="s1">&#39;to render the option list.  Default is 14 characters.  &#39;</span>
          <span class="s1">&#39;Use 0 for &quot;no limit&quot;.&#39;</span><span class="p">,</span>
          <span class="p">[</span><span class="s1">&#39;--option-limit&#39;</span><span class="p">],</span>
          <span class="p">{</span><span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="mi">14</span><span class="p">,</span> <span class="s1">&#39;metavar&#39;</span><span class="p">:</span> <span class="s1">&#39;&lt;level&gt;&#39;</span><span class="p">,</span>
           <span class="s1">&#39;validator&#39;</span><span class="p">:</span> <span class="n">frontend</span><span class="o">.</span><span class="n">validate_nonnegative_int</span><span class="p">}),</span>
         <span class="p">(</span><span class="s1">&#39;Format for footnote references: one of &quot;superscript&quot; or &#39;</span>
          <span class="s1">&#39;&quot;brackets&quot;.  Default is &quot;brackets&quot;.&#39;</span><span class="p">,</span>
          <span class="p">[</span><span class="s1">&#39;--footnote-references&#39;</span><span class="p">],</span>
          <span class="p">{</span><span class="s1">&#39;choices&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;superscript&#39;</span><span class="p">,</span> <span class="s1">&#39;brackets&#39;</span><span class="p">],</span> <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="s1">&#39;brackets&#39;</span><span class="p">,</span>
           <span class="s1">&#39;metavar&#39;</span><span class="p">:</span> <span class="s1">&#39;&lt;format&gt;&#39;</span><span class="p">,</span>
           <span class="s1">&#39;overrides&#39;</span><span class="p">:</span> <span class="s1">&#39;trim_footnote_reference_space&#39;</span><span class="p">}),</span>
         <span class="p">(</span><span class="s1">&#39;Format for block quote attributions: one of &quot;dash&quot; (em-dash &#39;</span>
          <span class="s1">&#39;prefix), &quot;parentheses&quot;/&quot;parens&quot;, or &quot;none&quot;.  Default is &quot;dash&quot;.&#39;</span><span class="p">,</span>
          <span class="p">[</span><span class="s1">&#39;--attribution&#39;</span><span class="p">],</span>
          <span class="p">{</span><span class="s1">&#39;choices&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;dash&#39;</span><span class="p">,</span> <span class="s1">&#39;parentheses&#39;</span><span class="p">,</span> <span class="s1">&#39;parens&#39;</span><span class="p">,</span> <span class="s1">&#39;none&#39;</span><span class="p">],</span>
           <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="s1">&#39;dash&#39;</span><span class="p">,</span> <span class="s1">&#39;metavar&#39;</span><span class="p">:</span> <span class="s1">&#39;&lt;format&gt;&#39;</span><span class="p">}),</span>
         <span class="p">(</span><span class="s1">&#39;Remove extra vertical whitespace between items of &quot;simple&quot; bullet &#39;</span>
          <span class="s1">&#39;lists and enumerated lists.  Default: enabled.&#39;</span><span class="p">,</span>
          <span class="p">[</span><span class="s1">&#39;--compact-lists&#39;</span><span class="p">],</span>
          <span class="p">{</span><span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;action&#39;</span><span class="p">:</span> <span class="s1">&#39;store_true&#39;</span><span class="p">,</span>
           <span class="s1">&#39;validator&#39;</span><span class="p">:</span> <span class="n">frontend</span><span class="o">.</span><span class="n">validate_boolean</span><span class="p">}),</span>
         <span class="p">(</span><span class="s1">&#39;Disable compact simple bullet and enumerated lists.&#39;</span><span class="p">,</span>
          <span class="p">[</span><span class="s1">&#39;--no-compact-lists&#39;</span><span class="p">],</span>
          <span class="p">{</span><span class="s1">&#39;dest&#39;</span><span class="p">:</span> <span class="s1">&#39;compact_lists&#39;</span><span class="p">,</span> <span class="s1">&#39;action&#39;</span><span class="p">:</span> <span class="s1">&#39;store_false&#39;</span><span class="p">}),</span>
         <span class="p">(</span><span class="s1">&#39;Remove extra vertical whitespace between items of simple field &#39;</span>
          <span class="s1">&#39;lists.  Default: enabled.&#39;</span><span class="p">,</span>
          <span class="p">[</span><span class="s1">&#39;--compact-field-lists&#39;</span><span class="p">],</span>
          <span class="p">{</span><span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;action&#39;</span><span class="p">:</span> <span class="s1">&#39;store_true&#39;</span><span class="p">,</span>
           <span class="s1">&#39;validator&#39;</span><span class="p">:</span> <span class="n">frontend</span><span class="o">.</span><span class="n">validate_boolean</span><span class="p">}),</span>
         <span class="p">(</span><span class="s1">&#39;Disable compact simple field lists.&#39;</span><span class="p">,</span>
          <span class="p">[</span><span class="s1">&#39;--no-compact-field-lists&#39;</span><span class="p">],</span>
          <span class="p">{</span><span class="s1">&#39;dest&#39;</span><span class="p">:</span> <span class="s1">&#39;compact_field_lists&#39;</span><span class="p">,</span> <span class="s1">&#39;action&#39;</span><span class="p">:</span> <span class="s1">&#39;store_false&#39;</span><span class="p">}),</span>
         <span class="p">(</span><span class="s1">&#39;Added to standard table classes. &#39;</span>
          <span class="s1">&#39;Defined styles: &quot;borderless&quot;. Default: &quot;&quot;&#39;</span><span class="p">,</span>
          <span class="p">[</span><span class="s1">&#39;--table-style&#39;</span><span class="p">],</span>
          <span class="p">{</span><span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">}),</span>
         <span class="p">(</span><span class="s1">&#39;Math output format, one of &quot;MathML&quot;, &quot;HTML&quot;, &quot;MathJax&quot; &#39;</span>
          <span class="s1">&#39;or &quot;LaTeX&quot;. Default: &quot;HTML math.css&quot;&#39;</span><span class="p">,</span>
          <span class="p">[</span><span class="s1">&#39;--math-output&#39;</span><span class="p">],</span>
          <span class="p">{</span><span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="s1">&#39;HTML math.css&#39;</span><span class="p">}),</span>
         <span class="p">(</span><span class="s1">&#39;Omit the XML declaration.  Use with caution.&#39;</span><span class="p">,</span>
          <span class="p">[</span><span class="s1">&#39;--no-xml-declaration&#39;</span><span class="p">],</span>
          <span class="p">{</span><span class="s1">&#39;dest&#39;</span><span class="p">:</span> <span class="s1">&#39;xml_declaration&#39;</span><span class="p">,</span> <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;action&#39;</span><span class="p">:</span> <span class="s1">&#39;store_false&#39;</span><span class="p">,</span>
           <span class="s1">&#39;validator&#39;</span><span class="p">:</span> <span class="n">frontend</span><span class="o">.</span><span class="n">validate_boolean</span><span class="p">}),</span>
         <span class="p">(</span><span class="s1">&#39;Obfuscate email addresses to confuse harvesters while still &#39;</span>
          <span class="s1">&#39;keeping email links usable with standards-compliant browsers.&#39;</span><span class="p">,</span>
          <span class="p">[</span><span class="s1">&#39;--cloak-email-addresses&#39;</span><span class="p">],</span>
          <span class="p">{</span><span class="s1">&#39;action&#39;</span><span class="p">:</span> <span class="s1">&#39;store_true&#39;</span><span class="p">,</span> <span class="s1">&#39;validator&#39;</span><span class="p">:</span> <span class="n">frontend</span><span class="o">.</span><span class="n">validate_boolean</span><span class="p">}),))</span>

    <span class="n">settings_defaults</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;output_encoding_error_handler&#39;</span><span class="p">:</span> <span class="s1">&#39;xmlcharrefreplace&#39;</span><span class="p">}</span>

    <span class="n">config_section</span> <span class="o">=</span> <span class="s1">&#39;html4css1 writer&#39;</span>
    <span class="n">config_section_dependencies</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;writers&#39;</span><span class="p">,)</span>

    <span class="n">visitor_attributes</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s1">&#39;head_prefix&#39;</span><span class="p">,</span> <span class="s1">&#39;head&#39;</span><span class="p">,</span> <span class="s1">&#39;stylesheet&#39;</span><span class="p">,</span> <span class="s1">&#39;body_prefix&#39;</span><span class="p">,</span>
        <span class="s1">&#39;body_pre_docinfo&#39;</span><span class="p">,</span> <span class="s1">&#39;docinfo&#39;</span><span class="p">,</span> <span class="s1">&#39;body&#39;</span><span class="p">,</span> <span class="s1">&#39;body_suffix&#39;</span><span class="p">,</span>
        <span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;subtitle&#39;</span><span class="p">,</span> <span class="s1">&#39;header&#39;</span><span class="p">,</span> <span class="s1">&#39;footer&#39;</span><span class="p">,</span> <span class="s1">&#39;meta&#39;</span><span class="p">,</span> <span class="s1">&#39;fragment&#39;</span><span class="p">,</span>
        <span class="s1">&#39;html_prolog&#39;</span><span class="p">,</span> <span class="s1">&#39;html_head&#39;</span><span class="p">,</span> <span class="s1">&#39;html_title&#39;</span><span class="p">,</span> <span class="s1">&#39;html_subtitle&#39;</span><span class="p">,</span>
        <span class="s1">&#39;html_body&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_transforms</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">writers</span><span class="o">.</span><span class="n">Writer</span><span class="o">.</span><span class="n">get_transforms</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">+</span> <span class="p">[</span><span class="n">writer_aux</span><span class="o">.</span><span class="n">Admonitions</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">writers</span><span class="o">.</span><span class="n">Writer</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">translator_class</span> <span class="o">=</span> <span class="n">HTMLTranslator</span>

    <span class="k">def</span> <span class="nf">translate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">visitor</span> <span class="o">=</span> <span class="n">visitor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">translator_class</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">document</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">document</span><span class="o">.</span><span class="n">walkabout</span><span class="p">(</span><span class="n">visitor</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">visitor_attributes</span><span class="p">:</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attr</span><span class="p">,</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">visitor</span><span class="p">,</span> <span class="n">attr</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">apply_template</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">apply_template</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">template_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">document</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">template</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span>
        <span class="n">template</span> <span class="o">=</span> <span class="nb">unicode</span><span class="p">(</span><span class="n">template_file</span><span class="o">.</span><span class="n">read</span><span class="p">(),</span> <span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>
        <span class="n">template_file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="n">subs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">interpolation_dict</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">template</span> <span class="o">%</span> <span class="n">subs</span>

    <span class="k">def</span> <span class="nf">interpolation_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">subs</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">settings</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">document</span><span class="o">.</span><span class="n">settings</span>
        <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">visitor_attributes</span><span class="p">:</span>
            <span class="n">subs</span><span class="p">[</span><span class="n">attr</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attr</span><span class="p">))</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">subs</span><span class="p">[</span><span class="s1">&#39;encoding&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">output_encoding</span>
        <span class="n">subs</span><span class="p">[</span><span class="s1">&#39;version&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">docutils</span><span class="o">.</span><span class="n">__version__</span>
        <span class="k">return</span> <span class="n">subs</span>

    <span class="k">def</span> <span class="nf">assemble_parts</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">writers</span><span class="o">.</span><span class="n">Writer</span><span class="o">.</span><span class="n">assemble_parts</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">part</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">visitor_attributes</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parts</span><span class="p">[</span><span class="n">part</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">part</span><span class="p">))</span>


<span class="k">class</span> <span class="nc">HTMLTranslator</span><span class="p">(</span><span class="n">nodes</span><span class="o">.</span><span class="n">NodeVisitor</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This HTML writer has been optimized to produce visually compact</span>
<span class="sd">    lists (less vertical whitespace).  HTML&#39;s mixed content models</span>
<span class="sd">    allow list items to contain &quot;&lt;li&gt;&lt;p&gt;body elements&lt;/p&gt;&lt;/li&gt;&quot; or</span>
<span class="sd">    &quot;&lt;li&gt;just text&lt;/li&gt;&quot; or even &quot;&lt;li&gt;text&lt;p&gt;and body</span>
<span class="sd">    elements&lt;/p&gt;combined&lt;/li&gt;&quot;, each with different effects.  It would</span>
<span class="sd">    be best to stick with strict body elements in list items, but they</span>
<span class="sd">    affect vertical spacing in browsers (although they really</span>
<span class="sd">    shouldn&#39;t).</span>

<span class="sd">    Here is an outline of the optimization:</span>

<span class="sd">    - Check for and omit &lt;p&gt; tags in &quot;simple&quot; lists: list items</span>
<span class="sd">      contain either a single paragraph, a nested simple list, or a</span>
<span class="sd">      paragraph followed by a nested simple list.  This means that</span>
<span class="sd">      this list can be compact:</span>

<span class="sd">          - Item 1.</span>
<span class="sd">          - Item 2.</span>

<span class="sd">      But this list cannot be compact:</span>

<span class="sd">          - Item 1.</span>

<span class="sd">            This second paragraph forces space between list items.</span>

<span class="sd">          - Item 2.</span>

<span class="sd">    - In non-list contexts, omit &lt;p&gt; tags on a paragraph if that</span>
<span class="sd">      paragraph is the only child of its parent (footnotes &amp; citations</span>
<span class="sd">      are allowed a label first).</span>

<span class="sd">    - Regardless of the above, in definitions, table cells, field bodies,</span>
<span class="sd">      option descriptions, and list items, mark the first child with</span>
<span class="sd">      &#39;class=&quot;first&quot;&#39; and the last child with &#39;class=&quot;last&quot;&#39;.  The stylesheet</span>
<span class="sd">      sets the margins (top &amp; bottom respectively) to 0 for these elements.</span>

<span class="sd">    The ``no_compact_lists`` setting (``--no-compact-lists`` command-line</span>
<span class="sd">    option) disables list whitespace optimization.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">xml_declaration</span> <span class="o">=</span> <span class="s1">&#39;&lt;?xml version=&quot;1.0&quot; encoding=&quot;</span><span class="si">%s</span><span class="s1">&quot; ?&gt;</span><span class="se">\n</span><span class="s1">&#39;</span>
    <span class="n">doctype</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s1">&#39;&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;&#39;</span>
        <span class="s1">&#39; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">doctype_mathml</span> <span class="o">=</span> <span class="n">doctype</span>

    <span class="n">head_prefix_template</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&#39;</span>
                            <span class="s1">&#39; xml:lang=&quot;</span><span class="si">%(lang)s</span><span class="s1">&quot; lang=&quot;</span><span class="si">%(lang)s</span><span class="s1">&quot;&gt;</span><span class="se">\n</span><span class="s1">&lt;head&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">content_type</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;&lt;meta http-equiv=&quot;Content-Type&quot;&#39;</span>
                    <span class="s1">&#39; content=&quot;text/html; charset=</span><span class="si">%s</span><span class="s1">&quot; /&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">content_type_mathml</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;&lt;meta http-equiv=&quot;Content-Type&quot;&#39;</span>
                           <span class="s1">&#39; content=&quot;application/xhtml+xml; charset=</span><span class="si">%s</span><span class="s1">&quot; /&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="n">generator</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;&lt;meta name=&quot;generator&quot; content=&quot;Docutils </span><span class="si">%s</span><span class="s1">: &#39;</span>
                 <span class="s1">&#39;http://docutils.sourceforge.net/&quot; /&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="c1"># Template for the MathJax script in the header:</span>
    <span class="n">mathjax_script</span> <span class="o">=</span> <span class="s1">&#39;&lt;script type=&quot;text/javascript&quot; src=&quot;</span><span class="si">%s</span><span class="s1">&quot;&gt;&lt;/script&gt;</span><span class="se">\n</span><span class="s1">&#39;</span>
    <span class="c1"># The latest version of MathJax from the distributed server:</span>
    <span class="c1"># avaliable to the public under the `MathJax CDN Terms of Service`__</span>
    <span class="c1"># __http://www.mathjax.org/download/mathjax-cdn-terms-of-service/</span>
    <span class="n">mathjax_url</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;http://cdn.mathjax.org/mathjax/latest/MathJax.js?&#39;</span>
                   <span class="s1">&#39;config=TeX-AMS-MML_HTMLorMML&#39;</span><span class="p">)</span>
    <span class="c1"># may be overwritten by custom URL appended to &quot;mathjax&quot;</span>

    <span class="n">stylesheet_link</span> <span class="o">=</span> <span class="s1">&#39;&lt;link rel=&quot;stylesheet&quot; href=&quot;</span><span class="si">%s</span><span class="s1">&quot; type=&quot;text/css&quot; /&gt;</span><span class="se">\n</span><span class="s1">&#39;</span>
    <span class="n">embedded_stylesheet</span> <span class="o">=</span> <span class="s1">&#39;&lt;style type=&quot;text/css&quot;&gt;</span><span class="se">\n\n</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&lt;/style&gt;</span><span class="se">\n</span><span class="s1">&#39;</span>
    <span class="n">words_and_spaces</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s1">r&#39;\S+| +|\n&#39;</span><span class="p">)</span>
    <span class="n">sollbruchstelle</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s1">r&#39;.+\W\W.+|[-?].+&#39;</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">U</span><span class="p">)</span> <span class="c1"># wrap point inside word</span>
    <span class="n">lang_attribute</span> <span class="o">=</span> <span class="s1">&#39;lang&#39;</span> <span class="c1"># name changes to &#39;xml:lang&#39; in XHTML 1.1</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">document</span><span class="p">):</span>
        <span class="n">nodes</span><span class="o">.</span><span class="n">NodeVisitor</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">document</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">settings</span> <span class="o">=</span> <span class="n">settings</span> <span class="o">=</span> <span class="n">document</span><span class="o">.</span><span class="n">settings</span>
        <span class="n">lcode</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">language_code</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">language</span> <span class="o">=</span> <span class="n">languages</span><span class="o">.</span><span class="n">get_language</span><span class="p">(</span><span class="n">lcode</span><span class="p">,</span> <span class="n">document</span><span class="o">.</span><span class="n">reporter</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">meta</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">generator</span> <span class="o">%</span> <span class="n">docutils</span><span class="o">.</span><span class="n">__version__</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">head_prefix</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">html_prolog</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">settings</span><span class="o">.</span><span class="n">xml_declaration</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">head_prefix</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xml_declaration</span>
                                    <span class="o">%</span> <span class="n">settings</span><span class="o">.</span><span class="n">output_encoding</span><span class="p">)</span>
            <span class="c1"># encoding not interpolated:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">html_prolog</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xml_declaration</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">head</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">meta</span><span class="p">[:]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stylesheet</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">stylesheet_call</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
                           <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">utils</span><span class="o">.</span><span class="n">get_stylesheet_list</span><span class="p">(</span><span class="n">settings</span><span class="p">)]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body_prefix</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;&lt;/head&gt;</span><span class="se">\n</span><span class="s1">&lt;body&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">]</span>
        <span class="c1"># document title, subtitle display</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body_pre_docinfo</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="c1"># author, date, etc.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">docinfo</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fragment</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body_suffix</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;&lt;/body&gt;</span><span class="se">\n</span><span class="s1">&lt;/html&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">section_level</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">initial_header_level</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">initial_header_level</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">math_output</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">math_output</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">math_output_options</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">math_output</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">math_output</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">math_output</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

        <span class="c1"># A heterogenous stack used in conjunction with the tree traversal.</span>
        <span class="c1"># Make sure that the pops correspond to the pushes:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">topic_classes</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">colspecs</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">compact_p</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">compact_simple</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">compact_field_list</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">in_docinfo</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">in_sidebar</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">subtitle</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">header</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">footer</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">html_head</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">content_type</span><span class="p">]</span> <span class="c1"># charset not interpolated</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">html_title</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">html_subtitle</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">html_body</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">in_document_title</span> <span class="o">=</span> <span class="mi">0</span>   <span class="c1"># len(self.body) or 0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">in_mailto</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">author_in_authors</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">math_header</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">file_insertion_enabled</span> <span class="o">=</span> <span class="bp">True</span>

<div class="viewcode-block" id="HTMLTranslator.astext"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.astext.html#sphinx.builders.html.HTMLTranslator.astext">[docs]</a>    <span class="k">def</span> <span class="nf">astext</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">head_prefix</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">head</span>
                       <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">stylesheet</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">body_prefix</span>
                       <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">body_pre_docinfo</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">docinfo</span>
                       <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">body</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">body_suffix</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.encode"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.encode.html#sphinx.builders.html.HTMLTranslator.encode">[docs]</a>    <span class="k">def</span> <span class="nf">encode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Encode special characters in `text` &amp; return.&quot;&quot;&quot;</span>
        <span class="c1"># @@@ A codec to do these and all other HTML entities would be nice.</span>
        <span class="n">text</span> <span class="o">=</span> <span class="nb">unicode</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">text</span><span class="o">.</span><span class="n">translate</span><span class="p">({</span>
            <span class="nb">ord</span><span class="p">(</span><span class="s1">&#39;&amp;&#39;</span><span class="p">):</span> <span class="s1">u&#39;&amp;amp;&#39;</span><span class="p">,</span>
            <span class="nb">ord</span><span class="p">(</span><span class="s1">&#39;&lt;&#39;</span><span class="p">):</span> <span class="s1">u&#39;&amp;lt;&#39;</span><span class="p">,</span>
            <span class="nb">ord</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">):</span> <span class="s1">u&#39;&amp;quot;&#39;</span><span class="p">,</span>
            <span class="nb">ord</span><span class="p">(</span><span class="s1">&#39;&gt;&#39;</span><span class="p">):</span> <span class="s1">u&#39;&amp;gt;&#39;</span><span class="p">,</span>
            <span class="nb">ord</span><span class="p">(</span><span class="s1">&#39;@&#39;</span><span class="p">):</span> <span class="s1">u&#39;&amp;#64;&#39;</span><span class="p">,</span> <span class="c1"># may thwart some address harvesters</span>
            <span class="c1"># TODO: convert non-breaking space only if needed?</span>
            <span class="mh">0xa0</span><span class="p">:</span> <span class="s1">u&#39;&amp;nbsp;&#39;</span><span class="p">})</span> <span class="c1"># non-breaking space</span></div>

<div class="viewcode-block" id="HTMLTranslator.cloak_mailto"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.cloak_mailto.html#sphinx.builders.html.HTMLTranslator.cloak_mailto">[docs]</a>    <span class="k">def</span> <span class="nf">cloak_mailto</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uri</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Try to hide a mailto: URL from harvesters.&quot;&quot;&quot;</span>
        <span class="c1"># Encode &quot;@&quot; using a URL octet reference (see RFC 1738).</span>
        <span class="c1"># Further cloaking with HTML entities will be done in the</span>
        <span class="c1"># `attval` function.</span>
        <span class="k">return</span> <span class="n">uri</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;@&#39;</span><span class="p">,</span> <span class="s1">&#39;%40&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.cloak_email"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.cloak_email.html#sphinx.builders.html.HTMLTranslator.cloak_email">[docs]</a>    <span class="k">def</span> <span class="nf">cloak_email</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">addr</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Try to hide the link text of a email link from harversters.&quot;&quot;&quot;</span>
        <span class="c1"># Surround at-signs and periods with &lt;span&gt; tags.  (&quot;@&quot; has</span>
        <span class="c1"># already been encoded to &quot;&amp;#64;&quot; by the `encode` method.)</span>
        <span class="n">addr</span> <span class="o">=</span> <span class="n">addr</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;&amp;#64;&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;span&gt;&amp;#64;&lt;/span&gt;&#39;</span><span class="p">)</span>
        <span class="n">addr</span> <span class="o">=</span> <span class="n">addr</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;span&gt;&amp;#46;&lt;/span&gt;&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">addr</span></div>

<div class="viewcode-block" id="HTMLTranslator.attval"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.attval.html#sphinx.builders.html.HTMLTranslator.attval">[docs]</a>    <span class="k">def</span> <span class="nf">attval</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span>
               <span class="n">whitespace</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s1">&#39;[</span><span class="se">\n\r\t\v\f</span><span class="s1">]&#39;</span><span class="p">)):</span>
        <span class="sd">&quot;&quot;&quot;Cleanse, HTML encode, and return attribute value text.&quot;&quot;&quot;</span>
        <span class="n">encoded</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">whitespace</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">))</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">in_mailto</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">cloak_email_addresses</span><span class="p">:</span>
            <span class="c1"># Cloak at-signs (&quot;%40&quot;) and periods with HTML entities.</span>
            <span class="n">encoded</span> <span class="o">=</span> <span class="n">encoded</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;%40&#39;</span><span class="p">,</span> <span class="s1">&#39;&amp;#37;&amp;#52;&amp;#48;&#39;</span><span class="p">)</span>
            <span class="n">encoded</span> <span class="o">=</span> <span class="n">encoded</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="s1">&#39;&amp;#46;&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">encoded</span></div>

<div class="viewcode-block" id="HTMLTranslator.stylesheet_call"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.stylesheet_call.html#sphinx.builders.html.HTMLTranslator.stylesheet_call">[docs]</a>    <span class="k">def</span> <span class="nf">stylesheet_call</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return code to reference or embed stylesheet file `path`&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">embed_stylesheet</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">content</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">FileInput</span><span class="p">(</span><span class="n">source_path</span><span class="o">=</span><span class="n">path</span><span class="p">,</span>
                                       <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">record_dependencies</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">IOError</span><span class="p">,</span> <span class="n">err</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">u&quot;Cannot embed stylesheet &#39;</span><span class="si">%s</span><span class="s2">&#39;: </span><span class="si">%s</span><span class="s2">.&quot;</span> <span class="o">%</span> <span class="p">(</span>
                                <span class="n">path</span><span class="p">,</span> <span class="n">SafeString</span><span class="p">(</span><span class="n">err</span><span class="o">.</span><span class="n">strerror</span><span class="p">))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">document</span><span class="o">.</span><span class="n">reporter</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
                <span class="k">return</span> <span class="s1">&#39;&lt;--- </span><span class="si">%s</span><span class="s1"> ---&gt;</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">msg</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">embedded_stylesheet</span> <span class="o">%</span> <span class="n">content</span>
        <span class="c1"># else link to style file:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">stylesheet_path</span><span class="p">:</span>
            <span class="c1"># adapt path relative to output (cf. config.html#stylesheet-path)</span>
            <span class="n">path</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">relative_path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">_destination</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">stylesheet_link</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">path</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.starttag"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.starttag.html#sphinx.builders.html.HTMLTranslator.starttag">[docs]</a>    <span class="k">def</span> <span class="nf">starttag</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">,</span> <span class="n">tagname</span><span class="p">,</span> <span class="n">suffix</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">empty</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="o">**</span><span class="n">attributes</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Construct and return a start tag given a node (id &amp; class attributes</span>
<span class="sd">        are extracted), tag name, and optional attributes.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tagname</span> <span class="o">=</span> <span class="n">tagname</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="n">prefix</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">atts</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">ids</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="ow">in</span> <span class="n">attributes</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">atts</span><span class="p">[</span><span class="n">name</span><span class="o">.</span><span class="n">lower</span><span class="p">()]</span> <span class="o">=</span> <span class="n">value</span>
        <span class="n">classes</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">languages</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="c1"># unify class arguments and move language specification</span>
        <span class="k">for</span> <span class="n">cls</span> <span class="ow">in</span> <span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;classes&#39;</span><span class="p">,</span> <span class="p">[])</span> <span class="o">+</span> <span class="n">atts</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;class&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">()</span> <span class="p">:</span>
            <span class="k">if</span> <span class="n">cls</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;language-&#39;</span><span class="p">):</span>
                <span class="n">languages</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cls</span><span class="p">[</span><span class="mi">9</span><span class="p">:])</span>
            <span class="k">elif</span> <span class="n">cls</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="ow">and</span> <span class="n">cls</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">classes</span><span class="p">:</span>
                <span class="n">classes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cls</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">languages</span><span class="p">:</span>
            <span class="c1"># attribute name is &#39;lang&#39; in XHTML 1.0 but &#39;xml:lang&#39; in 1.1</span>
            <span class="n">atts</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">lang_attribute</span><span class="p">]</span> <span class="o">=</span> <span class="n">languages</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">classes</span><span class="p">:</span>
            <span class="n">atts</span><span class="p">[</span><span class="s1">&#39;class&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">classes</span><span class="p">)</span>
        <span class="k">assert</span> <span class="s1">&#39;id&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">atts</span>
        <span class="n">ids</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;ids&#39;</span><span class="p">,</span> <span class="p">[]))</span>
        <span class="k">if</span> <span class="s1">&#39;ids&#39;</span> <span class="ow">in</span> <span class="n">atts</span><span class="p">:</span>
            <span class="n">ids</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">atts</span><span class="p">[</span><span class="s1">&#39;ids&#39;</span><span class="p">])</span>
            <span class="k">del</span> <span class="n">atts</span><span class="p">[</span><span class="s1">&#39;ids&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">ids</span><span class="p">:</span>
            <span class="n">atts</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ids</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">for</span> <span class="nb">id</span> <span class="ow">in</span> <span class="n">ids</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
                <span class="c1"># Add empty &quot;span&quot; elements for additional IDs.  Note</span>
                <span class="c1"># that we cannot use empty &quot;a&quot; elements because there</span>
                <span class="c1"># may be targets inside of references, but nested &quot;a&quot;</span>
                <span class="c1"># elements aren&#39;t allowed in XHTML (even if they do</span>
                <span class="c1"># not all have a &quot;href&quot; attribute).</span>
                <span class="k">if</span> <span class="n">empty</span><span class="p">:</span>
                    <span class="c1"># Empty tag.  Insert target right in front of element.</span>
                    <span class="n">prefix</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;span id=&quot;</span><span class="si">%s</span><span class="s1">&quot;&gt;&lt;/span&gt;&#39;</span> <span class="o">%</span> <span class="nb">id</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c1"># Non-empty tag.  Place the auxiliary &lt;span&gt; tag</span>
                    <span class="c1"># *inside* the element, as the first child.</span>
                    <span class="n">suffix</span> <span class="o">+=</span> <span class="s1">&#39;&lt;span id=&quot;</span><span class="si">%s</span><span class="s1">&quot;&gt;&lt;/span&gt;&#39;</span> <span class="o">%</span> <span class="nb">id</span>
        <span class="n">attlist</span> <span class="o">=</span> <span class="n">atts</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="n">attlist</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
        <span class="n">parts</span> <span class="o">=</span> <span class="p">[</span><span class="n">tagname</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">attlist</span><span class="p">:</span>
            <span class="c1"># value=None was used for boolean attributes without</span>
            <span class="c1"># value, but this isn&#39;t supported by XHTML.</span>
            <span class="k">assert</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
                <span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="nb">unicode</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">value</span><span class="p">]</span>
                <span class="n">parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">=&quot;</span><span class="si">%s</span><span class="s1">&quot;&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">name</span><span class="o">.</span><span class="n">lower</span><span class="p">(),</span>
                                          <span class="bp">self</span><span class="o">.</span><span class="n">attval</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">values</span><span class="p">))))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">=&quot;</span><span class="si">%s</span><span class="s1">&quot;&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">name</span><span class="o">.</span><span class="n">lower</span><span class="p">(),</span>
                                          <span class="bp">self</span><span class="o">.</span><span class="n">attval</span><span class="p">(</span><span class="nb">unicode</span><span class="p">(</span><span class="n">value</span><span class="p">))))</span>
        <span class="k">if</span> <span class="n">empty</span><span class="p">:</span>
            <span class="n">infix</span> <span class="o">=</span> <span class="s1">&#39; /&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">infix</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="k">return</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;&lt;</span><span class="si">%s%s</span><span class="s1">&gt;&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">parts</span><span class="p">),</span> <span class="n">infix</span><span class="p">)</span> <span class="o">+</span> <span class="n">suffix</span></div>

<div class="viewcode-block" id="HTMLTranslator.emptytag"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.emptytag.html#sphinx.builders.html.HTMLTranslator.emptytag">[docs]</a>    <span class="k">def</span> <span class="nf">emptytag</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">,</span> <span class="n">tagname</span><span class="p">,</span> <span class="n">suffix</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">attributes</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Construct and return an XML-compatible empty tag.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">tagname</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="n">empty</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="o">**</span><span class="n">attributes</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.set_class_on_child"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.set_class_on_child.html#sphinx.builders.html.HTMLTranslator.set_class_on_child">[docs]</a>    <span class="k">def</span> <span class="nf">set_class_on_child</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">,</span> <span class="n">class_</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set class `class_` on the visible child no. index of `node`.</span>
<span class="sd">        Do nothing if node has fewer children than `index`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">children</span> <span class="o">=</span> <span class="p">[</span><span class="n">n</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">node</span> <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">nodes</span><span class="o">.</span><span class="n">Invisible</span><span class="p">)]</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">child</span> <span class="o">=</span> <span class="n">children</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="n">child</span><span class="p">[</span><span class="s1">&#39;classes&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">class_</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.set_first_last"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.set_first_last.html#sphinx.builders.html.HTMLTranslator.set_first_last">[docs]</a>    <span class="k">def</span> <span class="nf">set_first_last</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_class_on_child</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;first&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_class_on_child</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;last&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">visit_Text</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="n">text</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">astext</span><span class="p">()</span>
        <span class="n">encoded</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">in_mailto</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">cloak_email_addresses</span><span class="p">:</span>
            <span class="n">encoded</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cloak_email</span><span class="p">(</span><span class="n">encoded</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">encoded</span><span class="p">)</span>

<div class="viewcode-block" id="HTMLTranslator.depart_Text"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_Text.html#sphinx.builders.html.HTMLTranslator.depart_Text">[docs]</a>    <span class="k">def</span> <span class="nf">depart_Text</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="k">pass</span></div>

    <span class="k">def</span> <span class="nf">visit_abbreviation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="c1"># @@@ implementation incomplete (&quot;title&quot; attribute)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;abbr&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">depart_abbreviation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/abbr&gt;&#39;</span><span class="p">)</span>

<div class="viewcode-block" id="HTMLTranslator.visit_acronym"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_acronym.html#sphinx.builders.html.HTMLTranslator.visit_acronym">[docs]</a>    <span class="k">def</span> <span class="nf">visit_acronym</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="c1"># @@@ implementation incomplete (&quot;title&quot; attribute)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;acronym&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">))</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_acronym"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_acronym.html#sphinx.builders.html.HTMLTranslator.depart_acronym">[docs]</a>    <span class="k">def</span> <span class="nf">depart_acronym</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/acronym&gt;&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_address"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_address.html#sphinx.builders.html.HTMLTranslator.visit_address">[docs]</a>    <span class="k">def</span> <span class="nf">visit_address</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">visit_docinfo_item</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;address&#39;</span><span class="p">,</span> <span class="n">meta</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;pre&#39;</span><span class="p">,</span> <span class="n">CLASS</span><span class="o">=</span><span class="s1">&#39;address&#39;</span><span class="p">))</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_address"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_address.html#sphinx.builders.html.HTMLTranslator.depart_address">[docs]</a>    <span class="k">def</span> <span class="nf">depart_address</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&lt;/pre&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">depart_docinfo_item</span><span class="p">()</span></div>

    <span class="k">def</span> <span class="nf">visit_admonition</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;div&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_first_last</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>

<div class="viewcode-block" id="HTMLTranslator.depart_admonition"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_admonition.html#sphinx.builders.html.HTMLTranslator.depart_admonition">[docs]</a>    <span class="k">def</span> <span class="nf">depart_admonition</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/div&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span></div>

    <span class="n">attribution_formats</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;dash&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;&amp;mdash;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">),</span>
                           <span class="s1">&#39;parentheses&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;(&#39;</span><span class="p">,</span> <span class="s1">&#39;)&#39;</span><span class="p">),</span>
                           <span class="s1">&#39;parens&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;(&#39;</span><span class="p">,</span> <span class="s1">&#39;)&#39;</span><span class="p">),</span>
                           <span class="s1">&#39;none&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)}</span>

<div class="viewcode-block" id="HTMLTranslator.visit_attribution"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_attribution.html#sphinx.builders.html.HTMLTranslator.visit_attribution">[docs]</a>    <span class="k">def</span> <span class="nf">visit_attribution</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="n">prefix</span><span class="p">,</span> <span class="n">suffix</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">attribution_formats</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">attribution</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">CLASS</span><span class="o">=</span><span class="s1">&#39;attribution&#39;</span><span class="p">))</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_attribution"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_attribution.html#sphinx.builders.html.HTMLTranslator.depart_attribution">[docs]</a>    <span class="k">def</span> <span class="nf">depart_attribution</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;&lt;/p&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_author"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_author.html#sphinx.builders.html.HTMLTranslator.visit_author">[docs]</a>    <span class="k">def</span> <span class="nf">visit_author</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">nodes</span><span class="o">.</span><span class="n">authors</span><span class="p">):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">author_in_authors</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&lt;br /&gt;&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">visit_docinfo_item</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;author&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_author"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_author.html#sphinx.builders.html.HTMLTranslator.depart_author">[docs]</a>    <span class="k">def</span> <span class="nf">depart_author</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">nodes</span><span class="o">.</span><span class="n">authors</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">author_in_authors</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">depart_docinfo_item</span><span class="p">()</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_authors"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_authors.html#sphinx.builders.html.HTMLTranslator.visit_authors">[docs]</a>    <span class="k">def</span> <span class="nf">visit_authors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">visit_docinfo_item</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;authors&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">author_in_authors</span> <span class="o">=</span> <span class="bp">False</span>  <span class="c1"># initialize</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_authors"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_authors.html#sphinx.builders.html.HTMLTranslator.depart_authors">[docs]</a>    <span class="k">def</span> <span class="nf">depart_authors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">depart_docinfo_item</span><span class="p">()</span></div>

    <span class="k">def</span> <span class="nf">visit_block_quote</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;blockquote&#39;</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">depart_block_quote</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/blockquote&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>

<div class="viewcode-block" id="HTMLTranslator.check_simple_list"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.check_simple_list.html#sphinx.builders.html.HTMLTranslator.check_simple_list">[docs]</a>    <span class="k">def</span> <span class="nf">check_simple_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Check for a simple list that can be rendered compactly.&quot;&quot;&quot;</span>
        <span class="n">visitor</span> <span class="o">=</span> <span class="n">SimpleListChecker</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">document</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">node</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">visitor</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">nodes</span><span class="o">.</span><span class="n">NodeFound</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">1</span></div>

<div class="viewcode-block" id="HTMLTranslator.is_compactable"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.is_compactable.html#sphinx.builders.html.HTMLTranslator.is_compactable">[docs]</a>    <span class="k">def</span> <span class="nf">is_compactable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span><span class="s1">&#39;compact&#39;</span> <span class="ow">in</span> <span class="n">node</span><span class="p">[</span><span class="s1">&#39;classes&#39;</span><span class="p">]</span>
                <span class="ow">or</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">compact_lists</span>
                    <span class="ow">and</span> <span class="s1">&#39;open&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">node</span><span class="p">[</span><span class="s1">&#39;classes&#39;</span><span class="p">]</span>
                    <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">compact_simple</span>
                         <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">topic_classes</span> <span class="o">==</span> <span class="p">[</span><span class="s1">&#39;contents&#39;</span><span class="p">]</span>
                         <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_simple_list</span><span class="p">(</span><span class="n">node</span><span class="p">))))</span></div>

    <span class="k">def</span> <span class="nf">visit_bullet_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="n">atts</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">old_compact_simple</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">compact_simple</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">compact_simple</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">compact_p</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">compact_p</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">compact_simple</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_compactable</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">compact_simple</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">old_compact_simple</span><span class="p">:</span>
            <span class="n">atts</span><span class="p">[</span><span class="s1">&#39;class&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;simple&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;ul&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">atts</span><span class="p">))</span>

<div class="viewcode-block" id="HTMLTranslator.depart_bullet_list"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_bullet_list.html#sphinx.builders.html.HTMLTranslator.depart_bullet_list">[docs]</a>    <span class="k">def</span> <span class="nf">depart_bullet_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">compact_simple</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">compact_p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/ul&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">visit_caption</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">CLASS</span><span class="o">=</span><span class="s1">&#39;caption&#39;</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">depart_caption</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/p&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>

<div class="viewcode-block" id="HTMLTranslator.visit_citation"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_citation.html#sphinx.builders.html.HTMLTranslator.visit_citation">[docs]</a>    <span class="k">def</span> <span class="nf">visit_citation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;table&#39;</span><span class="p">,</span>
                                       <span class="n">CLASS</span><span class="o">=</span><span class="s1">&#39;docutils citation&#39;</span><span class="p">,</span>
                                       <span class="n">frame</span><span class="o">=</span><span class="s2">&quot;void&quot;</span><span class="p">,</span> <span class="n">rules</span><span class="o">=</span><span class="s2">&quot;none&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;colgroup&gt;&lt;col class=&quot;label&quot; /&gt;&lt;col /&gt;&lt;/colgroup&gt;</span><span class="se">\n</span><span class="s1">&#39;</span>
                         <span class="s1">&#39;&lt;tbody valign=&quot;top&quot;&gt;</span><span class="se">\n</span><span class="s1">&#39;</span>
                         <span class="s1">&#39;&lt;tr&gt;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">footnote_backrefs</span><span class="p">(</span><span class="n">node</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_citation"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_citation.html#sphinx.builders.html.HTMLTranslator.depart_citation">[docs]</a>    <span class="k">def</span> <span class="nf">depart_citation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/td&gt;&lt;/tr&gt;</span><span class="se">\n</span><span class="s1">&#39;</span>
                         <span class="s1">&#39;&lt;/tbody&gt;</span><span class="se">\n</span><span class="s1">&lt;/table&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_citation_reference"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_citation_reference.html#sphinx.builders.html.HTMLTranslator.visit_citation_reference">[docs]</a>    <span class="k">def</span> <span class="nf">visit_citation_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="n">href</span> <span class="o">=</span> <span class="s1">&#39;#&#39;</span>
        <span class="k">if</span> <span class="s1">&#39;refid&#39;</span> <span class="ow">in</span> <span class="n">node</span><span class="p">:</span>
            <span class="n">href</span> <span class="o">+=</span> <span class="n">node</span><span class="p">[</span><span class="s1">&#39;refid&#39;</span><span class="p">]</span>
        <span class="k">elif</span> <span class="s1">&#39;refname&#39;</span> <span class="ow">in</span> <span class="n">node</span><span class="p">:</span>
            <span class="n">href</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">document</span><span class="o">.</span><span class="n">nameids</span><span class="p">[</span><span class="n">node</span><span class="p">[</span><span class="s1">&#39;refname&#39;</span><span class="p">]]</span>
        <span class="c1"># else: # TODO system message (or already in the transform)?</span>
        <span class="c1"># &#39;Citation reference missing.&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span>
            <span class="n">node</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;[&#39;</span><span class="p">,</span> <span class="n">CLASS</span><span class="o">=</span><span class="s1">&#39;citation-reference&#39;</span><span class="p">,</span> <span class="n">href</span><span class="o">=</span><span class="n">href</span><span class="p">))</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_citation_reference"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_citation_reference.html#sphinx.builders.html.HTMLTranslator.depart_citation_reference">[docs]</a>    <span class="k">def</span> <span class="nf">depart_citation_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;]&lt;/a&gt;&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_classifier"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_classifier.html#sphinx.builders.html.HTMLTranslator.visit_classifier">[docs]</a>    <span class="k">def</span> <span class="nf">visit_classifier</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39; &lt;span class=&quot;classifier-delimiter&quot;&gt;:&lt;/span&gt; &#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;span&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">CLASS</span><span class="o">=</span><span class="s1">&#39;classifier&#39;</span><span class="p">))</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_classifier"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_classifier.html#sphinx.builders.html.HTMLTranslator.depart_classifier">[docs]</a>    <span class="k">def</span> <span class="nf">depart_classifier</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/span&gt;&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_colspec"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_colspec.html#sphinx.builders.html.HTMLTranslator.visit_colspec">[docs]</a>    <span class="k">def</span> <span class="nf">visit_colspec</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">colspecs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
        <span class="c1"># &quot;stubs&quot; list is an attribute of the tgroup element:</span>
        <span class="n">node</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">stubs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">attributes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;stub&#39;</span><span class="p">))</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_colspec"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_colspec.html#sphinx.builders.html.HTMLTranslator.depart_colspec">[docs]</a>    <span class="k">def</span> <span class="nf">depart_colspec</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="HTMLTranslator.write_colspecs"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.write_colspecs.html#sphinx.builders.html.HTMLTranslator.write_colspecs">[docs]</a>    <span class="k">def</span> <span class="nf">write_colspecs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">width</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">colspecs</span><span class="p">:</span>
            <span class="n">width</span> <span class="o">+=</span> <span class="n">node</span><span class="p">[</span><span class="s1">&#39;colwidth&#39;</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">colspecs</span><span class="p">:</span>
            <span class="n">colwidth</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">node</span><span class="p">[</span><span class="s1">&#39;colwidth&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="mf">100.0</span> <span class="o">/</span> <span class="n">width</span> <span class="o">+</span> <span class="mf">0.5</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">emptytag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;col&#39;</span><span class="p">,</span>
                                           <span class="n">width</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%i%%</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">colwidth</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">colspecs</span> <span class="o">=</span> <span class="p">[]</span></div>

    <span class="k">def</span> <span class="nf">visit_comment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">,</span>
                      <span class="n">sub</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s1">&#39;-(?=-)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sub</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Escape double-dashes in comment text.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;!-- </span><span class="si">%s</span><span class="s1"> --&gt;</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">sub</span><span class="p">(</span><span class="s1">&#39;- &#39;</span><span class="p">,</span> <span class="n">node</span><span class="o">.</span><span class="n">astext</span><span class="p">()))</span>
        <span class="c1"># Content already processed:</span>
        <span class="k">raise</span> <span class="n">nodes</span><span class="o">.</span><span class="n">SkipNode</span>

<div class="viewcode-block" id="HTMLTranslator.visit_compound"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_compound.html#sphinx.builders.html.HTMLTranslator.visit_compound">[docs]</a>    <span class="k">def</span> <span class="nf">visit_compound</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;div&#39;</span><span class="p">,</span> <span class="n">CLASS</span><span class="o">=</span><span class="s1">&#39;compound&#39;</span><span class="p">))</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">node</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">node</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;classes&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;compound-first&#39;</span><span class="p">)</span>
            <span class="n">node</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;classes&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;compound-last&#39;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">node</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
                <span class="n">child</span><span class="p">[</span><span class="s1">&#39;classes&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;compound-middle&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_compound"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_compound.html#sphinx.builders.html.HTMLTranslator.depart_compound">[docs]</a>    <span class="k">def</span> <span class="nf">depart_compound</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/div&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_container"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_container.html#sphinx.builders.html.HTMLTranslator.visit_container">[docs]</a>    <span class="k">def</span> <span class="nf">visit_container</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;div&#39;</span><span class="p">,</span> <span class="n">CLASS</span><span class="o">=</span><span class="s1">&#39;container&#39;</span><span class="p">))</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_container"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_container.html#sphinx.builders.html.HTMLTranslator.depart_container">[docs]</a>    <span class="k">def</span> <span class="nf">depart_container</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/div&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_contact"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_contact.html#sphinx.builders.html.HTMLTranslator.visit_contact">[docs]</a>    <span class="k">def</span> <span class="nf">visit_contact</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">visit_docinfo_item</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;contact&#39;</span><span class="p">,</span> <span class="n">meta</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_contact"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_contact.html#sphinx.builders.html.HTMLTranslator.depart_contact">[docs]</a>    <span class="k">def</span> <span class="nf">depart_contact</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">depart_docinfo_item</span><span class="p">()</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_copyright"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_copyright.html#sphinx.builders.html.HTMLTranslator.visit_copyright">[docs]</a>    <span class="k">def</span> <span class="nf">visit_copyright</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">visit_docinfo_item</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;copyright&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_copyright"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_copyright.html#sphinx.builders.html.HTMLTranslator.depart_copyright">[docs]</a>    <span class="k">def</span> <span class="nf">depart_copyright</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">depart_docinfo_item</span><span class="p">()</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_date"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_date.html#sphinx.builders.html.HTMLTranslator.visit_date">[docs]</a>    <span class="k">def</span> <span class="nf">visit_date</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">visit_docinfo_item</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;date&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_date"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_date.html#sphinx.builders.html.HTMLTranslator.depart_date">[docs]</a>    <span class="k">def</span> <span class="nf">depart_date</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">depart_docinfo_item</span><span class="p">()</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_decoration"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_decoration.html#sphinx.builders.html.HTMLTranslator.visit_decoration">[docs]</a>    <span class="k">def</span> <span class="nf">visit_decoration</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_decoration"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_decoration.html#sphinx.builders.html.HTMLTranslator.depart_decoration">[docs]</a>    <span class="k">def</span> <span class="nf">depart_decoration</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_definition"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_definition.html#sphinx.builders.html.HTMLTranslator.visit_definition">[docs]</a>    <span class="k">def</span> <span class="nf">visit_definition</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/dt&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;dd&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_first_last</span><span class="p">(</span><span class="n">node</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_definition"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_definition.html#sphinx.builders.html.HTMLTranslator.depart_definition">[docs]</a>    <span class="k">def</span> <span class="nf">depart_definition</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/dd&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_definition_list"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_definition_list.html#sphinx.builders.html.HTMLTranslator.visit_definition_list">[docs]</a>    <span class="k">def</span> <span class="nf">visit_definition_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;dl&#39;</span><span class="p">,</span> <span class="n">CLASS</span><span class="o">=</span><span class="s1">&#39;docutils&#39;</span><span class="p">))</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_definition_list"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_definition_list.html#sphinx.builders.html.HTMLTranslator.depart_definition_list">[docs]</a>    <span class="k">def</span> <span class="nf">depart_definition_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/dl&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_definition_list_item"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_definition_list_item.html#sphinx.builders.html.HTMLTranslator.visit_definition_list_item">[docs]</a>    <span class="k">def</span> <span class="nf">visit_definition_list_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_definition_list_item"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_definition_list_item.html#sphinx.builders.html.HTMLTranslator.depart_definition_list_item">[docs]</a>    <span class="k">def</span> <span class="nf">depart_definition_list_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_description"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_description.html#sphinx.builders.html.HTMLTranslator.visit_description">[docs]</a>    <span class="k">def</span> <span class="nf">visit_description</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;td&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_first_last</span><span class="p">(</span><span class="n">node</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_description"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_description.html#sphinx.builders.html.HTMLTranslator.depart_description">[docs]</a>    <span class="k">def</span> <span class="nf">depart_description</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/td&gt;&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_docinfo"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_docinfo.html#sphinx.builders.html.HTMLTranslator.visit_docinfo">[docs]</a>    <span class="k">def</span> <span class="nf">visit_docinfo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;table&#39;</span><span class="p">,</span>
                                       <span class="n">CLASS</span><span class="o">=</span><span class="s1">&#39;docinfo&#39;</span><span class="p">,</span>
                                       <span class="n">frame</span><span class="o">=</span><span class="s2">&quot;void&quot;</span><span class="p">,</span> <span class="n">rules</span><span class="o">=</span><span class="s2">&quot;none&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;col class=&quot;docinfo-name&quot; /&gt;</span><span class="se">\n</span><span class="s1">&#39;</span>
                         <span class="s1">&#39;&lt;col class=&quot;docinfo-content&quot; /&gt;</span><span class="se">\n</span><span class="s1">&#39;</span>
                         <span class="s1">&#39;&lt;tbody valign=&quot;top&quot;&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">in_docinfo</span> <span class="o">=</span> <span class="bp">True</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_docinfo"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_docinfo.html#sphinx.builders.html.HTMLTranslator.depart_docinfo">[docs]</a>    <span class="k">def</span> <span class="nf">depart_docinfo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/tbody&gt;</span><span class="se">\n</span><span class="s1">&lt;/table&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">in_docinfo</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="n">start</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">docinfo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="n">start</span><span class="p">:]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span> <span class="o">=</span> <span class="p">[]</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_docinfo_item"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_docinfo_item.html#sphinx.builders.html.HTMLTranslator.visit_docinfo_item">[docs]</a>    <span class="k">def</span> <span class="nf">visit_docinfo_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">meta</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">meta</span><span class="p">:</span>
            <span class="n">meta_tag</span> <span class="o">=</span> <span class="s1">&#39;&lt;meta name=&quot;</span><span class="si">%s</span><span class="s1">&quot; content=&quot;</span><span class="si">%s</span><span class="s1">&quot; /&gt;</span><span class="se">\n</span><span class="s1">&#39;</span> \
                       <span class="o">%</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">attval</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">astext</span><span class="p">()))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_meta</span><span class="p">(</span><span class="n">meta_tag</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;tr&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;th class=&quot;docinfo-name&quot;&gt;</span><span class="si">%s</span><span class="s1">:&lt;/th&gt;</span><span class="se">\n</span><span class="s1">&lt;td&gt;&#39;</span>
                         <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">language</span><span class="o">.</span><span class="n">labels</span><span class="p">[</span><span class="n">name</span><span class="p">])</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">node</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">nodes</span><span class="o">.</span><span class="n">Element</span><span class="p">):</span>
                <span class="n">node</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;classes&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;first&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">nodes</span><span class="o">.</span><span class="n">Element</span><span class="p">):</span>
                <span class="n">node</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;classes&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;last&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_docinfo_item"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_docinfo_item.html#sphinx.builders.html.HTMLTranslator.depart_docinfo_item">[docs]</a>    <span class="k">def</span> <span class="nf">depart_docinfo_item</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/td&gt;&lt;/tr&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">visit_doctest_block</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;pre&#39;</span><span class="p">,</span> <span class="n">CLASS</span><span class="o">=</span><span class="s1">&#39;doctest-block&#39;</span><span class="p">))</span>

<div class="viewcode-block" id="HTMLTranslator.depart_doctest_block"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_doctest_block.html#sphinx.builders.html.HTMLTranslator.depart_doctest_block">[docs]</a>    <span class="k">def</span> <span class="nf">depart_doctest_block</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&lt;/pre&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_document"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_document.html#sphinx.builders.html.HTMLTranslator.visit_document">[docs]</a>    <span class="k">def</span> <span class="nf">visit_document</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">head</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;title&gt;</span><span class="si">%s</span><span class="s1">&lt;/title&gt;</span><span class="se">\n</span><span class="s1">&#39;</span>
                         <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)))</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_document"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_document.html#sphinx.builders.html.HTMLTranslator.depart_document">[docs]</a>    <span class="k">def</span> <span class="nf">depart_document</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">head_prefix</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">doctype</span><span class="p">,</span>
                                 <span class="bp">self</span><span class="o">.</span><span class="n">head_prefix_template</span> <span class="o">%</span>
                                 <span class="p">{</span><span class="s1">&#39;lang&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">language_code</span><span class="p">}])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">html_prolog</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">doctype</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">meta</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">content_type</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">output_encoding</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">head</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">content_type</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">output_encoding</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">math_header</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">math_output</span> <span class="o">==</span> <span class="s1">&#39;mathjax&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">head</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">math_header</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">stylesheet</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">math_header</span><span class="p">)</span>
        <span class="c1"># skip content-type meta tag with interpolated charset value:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">html_head</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">head</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body_prefix</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;div&#39;</span><span class="p">,</span> <span class="n">CLASS</span><span class="o">=</span><span class="s1">&#39;document&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body_suffix</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;&lt;/div&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fragment</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="p">)</span> <span class="c1"># self.fragment is the &quot;naked&quot; body</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">html_body</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">body_prefix</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">body_pre_docinfo</span>
                              <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">docinfo</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">body</span>
                              <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">body_suffix</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">assert</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span> <span class="s1">&#39;len(context) = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_emphasis"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_emphasis.html#sphinx.builders.html.HTMLTranslator.visit_emphasis">[docs]</a>    <span class="k">def</span> <span class="nf">visit_emphasis</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;em&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">))</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_emphasis"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_emphasis.html#sphinx.builders.html.HTMLTranslator.depart_emphasis">[docs]</a>    <span class="k">def</span> <span class="nf">depart_emphasis</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/em&gt;&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_entry"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_entry.html#sphinx.builders.html.HTMLTranslator.visit_entry">[docs]</a>    <span class="k">def</span> <span class="nf">visit_entry</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="n">atts</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;class&#39;</span><span class="p">:</span> <span class="p">[]}</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">nodes</span><span class="o">.</span><span class="n">thead</span><span class="p">):</span>
            <span class="n">atts</span><span class="p">[</span><span class="s1">&#39;class&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;head&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">stubs</span><span class="p">[</span><span class="n">node</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">column</span><span class="p">]:</span>
            <span class="c1"># &quot;stubs&quot; list is an attribute of the tgroup element</span>
            <span class="n">atts</span><span class="p">[</span><span class="s1">&#39;class&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;stub&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">atts</span><span class="p">[</span><span class="s1">&#39;class&#39;</span><span class="p">]:</span>
            <span class="n">tagname</span> <span class="o">=</span> <span class="s1">&#39;th&#39;</span>
            <span class="n">atts</span><span class="p">[</span><span class="s1">&#39;class&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">atts</span><span class="p">[</span><span class="s1">&#39;class&#39;</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">tagname</span> <span class="o">=</span> <span class="s1">&#39;td&#39;</span>
            <span class="k">del</span> <span class="n">atts</span><span class="p">[</span><span class="s1">&#39;class&#39;</span><span class="p">]</span>
        <span class="n">node</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">column</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="s1">&#39;morerows&#39;</span> <span class="ow">in</span> <span class="n">node</span><span class="p">:</span>
            <span class="n">atts</span><span class="p">[</span><span class="s1">&#39;rowspan&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">node</span><span class="p">[</span><span class="s1">&#39;morerows&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="s1">&#39;morecols&#39;</span> <span class="ow">in</span> <span class="n">node</span><span class="p">:</span>
            <span class="n">atts</span><span class="p">[</span><span class="s1">&#39;colspan&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">node</span><span class="p">[</span><span class="s1">&#39;morecols&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="n">node</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">column</span> <span class="o">+=</span> <span class="n">node</span><span class="p">[</span><span class="s1">&#39;morecols&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">tagname</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">atts</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/</span><span class="si">%s</span><span class="s1">&gt;</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">tagname</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">node</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>              <span class="c1"># empty cell</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&amp;nbsp;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_first_last</span><span class="p">(</span><span class="n">node</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_entry"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_entry.html#sphinx.builders.html.HTMLTranslator.depart_entry">[docs]</a>    <span class="k">def</span> <span class="nf">depart_entry</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">pop</span><span class="p">())</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_enumerated_list"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_enumerated_list.html#sphinx.builders.html.HTMLTranslator.visit_enumerated_list">[docs]</a>    <span class="k">def</span> <span class="nf">visit_enumerated_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The &#39;start&#39; attribute does not conform to HTML 4.01&#39;s strict.dtd, but</span>
<span class="sd">        CSS1 doesn&#39;t help. CSS2 isn&#39;t widely enough supported yet to be</span>
<span class="sd">        usable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">atts</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="s1">&#39;start&#39;</span> <span class="ow">in</span> <span class="n">node</span><span class="p">:</span>
            <span class="n">atts</span><span class="p">[</span><span class="s1">&#39;start&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">node</span><span class="p">[</span><span class="s1">&#39;start&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="s1">&#39;enumtype&#39;</span> <span class="ow">in</span> <span class="n">node</span><span class="p">:</span>
            <span class="n">atts</span><span class="p">[</span><span class="s1">&#39;class&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">node</span><span class="p">[</span><span class="s1">&#39;enumtype&#39;</span><span class="p">]</span>
        <span class="c1"># @@@ To do: prefix, suffix. How? Change prefix/suffix to a</span>
        <span class="c1"># single &quot;format&quot; attribute? Use CSS2?</span>
        <span class="n">old_compact_simple</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">compact_simple</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">compact_simple</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">compact_p</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">compact_p</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">compact_simple</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_compactable</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">compact_simple</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">old_compact_simple</span><span class="p">:</span>
            <span class="n">atts</span><span class="p">[</span><span class="s1">&#39;class&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">atts</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;class&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39; simple&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;ol&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">atts</span><span class="p">))</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_enumerated_list"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_enumerated_list.html#sphinx.builders.html.HTMLTranslator.depart_enumerated_list">[docs]</a>    <span class="k">def</span> <span class="nf">depart_enumerated_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">compact_simple</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">compact_p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/ol&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">visit_field</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;tr&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">CLASS</span><span class="o">=</span><span class="s1">&#39;field&#39;</span><span class="p">))</span>

<div class="viewcode-block" id="HTMLTranslator.depart_field"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_field.html#sphinx.builders.html.HTMLTranslator.depart_field">[docs]</a>    <span class="k">def</span> <span class="nf">depart_field</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/tr&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_field_body"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_field_body.html#sphinx.builders.html.HTMLTranslator.visit_field_body">[docs]</a>    <span class="k">def</span> <span class="nf">visit_field_body</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;td&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">CLASS</span><span class="o">=</span><span class="s1">&#39;field-body&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_class_on_child</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;first&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">field</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">parent</span>
        <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">compact_field_list</span> <span class="ow">or</span>
            <span class="nb">isinstance</span><span class="p">(</span><span class="n">field</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">nodes</span><span class="o">.</span><span class="n">docinfo</span><span class="p">)</span> <span class="ow">or</span>
            <span class="n">field</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">field</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">field</span><span class="o">.</span><span class="n">parent</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
            <span class="c1"># If we are in a compact list, the docinfo, or if this is</span>
            <span class="c1"># the last field of the field list, do not add vertical</span>
            <span class="c1"># space after last element.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_class_on_child</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;last&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_field_body"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_field_body.html#sphinx.builders.html.HTMLTranslator.depart_field_body">[docs]</a>    <span class="k">def</span> <span class="nf">depart_field_body</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/td&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">visit_field_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">compact_field_list</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">compact_p</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">compact_p</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">if</span> <span class="s1">&#39;compact&#39;</span> <span class="ow">in</span> <span class="n">node</span><span class="p">[</span><span class="s1">&#39;classes&#39;</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">compact_field_list</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="k">elif</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">compact_field_lists</span>
              <span class="ow">and</span> <span class="s1">&#39;open&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">node</span><span class="p">[</span><span class="s1">&#39;classes&#39;</span><span class="p">]):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">compact_field_list</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">compact_field_list</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">node</span><span class="p">:</span>
                <span class="n">field_body</span> <span class="o">=</span> <span class="n">field</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">field_body</span><span class="p">,</span> <span class="n">nodes</span><span class="o">.</span><span class="n">field_body</span><span class="p">)</span>
                <span class="n">children</span> <span class="o">=</span> <span class="p">[</span><span class="n">n</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">field_body</span>
                            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">nodes</span><span class="o">.</span><span class="n">Invisible</span><span class="p">)]</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">children</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span>
                        <span class="nb">len</span><span class="p">(</span><span class="n">children</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span>
                        <span class="nb">isinstance</span><span class="p">(</span><span class="n">children</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                                   <span class="p">(</span><span class="n">nodes</span><span class="o">.</span><span class="n">paragraph</span><span class="p">,</span> <span class="n">nodes</span><span class="o">.</span><span class="n">line_block</span><span class="p">))):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">compact_field_list</span> <span class="o">=</span> <span class="bp">False</span>
                    <span class="k">break</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;table&#39;</span><span class="p">,</span> <span class="n">frame</span><span class="o">=</span><span class="s1">&#39;void&#39;</span><span class="p">,</span>
                                       <span class="n">rules</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">,</span>
                                       <span class="n">CLASS</span><span class="o">=</span><span class="s1">&#39;docutils field-list&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;col class=&quot;field-name&quot; /&gt;</span><span class="se">\n</span><span class="s1">&#39;</span>
                         <span class="s1">&#39;&lt;col class=&quot;field-body&quot; /&gt;</span><span class="se">\n</span><span class="s1">&#39;</span>
                         <span class="s1">&#39;&lt;tbody valign=&quot;top&quot;&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>

<div class="viewcode-block" id="HTMLTranslator.depart_field_list"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_field_list.html#sphinx.builders.html.HTMLTranslator.depart_field_list">[docs]</a>    <span class="k">def</span> <span class="nf">depart_field_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/tbody&gt;</span><span class="se">\n</span><span class="s1">&lt;/table&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">compact_field_list</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">compact_p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_field_name"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_field_name.html#sphinx.builders.html.HTMLTranslator.visit_field_name">[docs]</a>    <span class="k">def</span> <span class="nf">visit_field_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="n">atts</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">in_docinfo</span><span class="p">:</span>
            <span class="n">atts</span><span class="p">[</span><span class="s1">&#39;class&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;docinfo-name&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">atts</span><span class="p">[</span><span class="s1">&#39;class&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;field-name&#39;</span>
        <span class="k">if</span> <span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">field_name_limit</span>
             <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">astext</span><span class="p">())</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">field_name_limit</span><span class="p">):</span>
            <span class="n">atts</span><span class="p">[</span><span class="s1">&#39;colspan&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/tr&gt;</span><span class="se">\n</span><span class="s1">&#39;</span>
                                <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="s1">&#39;tr&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> 
                                                <span class="n">CLASS</span><span class="o">=</span><span class="s1">&#39;field&#39;</span><span class="p">)</span>
                                <span class="o">+</span> <span class="s1">&#39;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;th&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">atts</span><span class="p">))</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_field_name"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_field_name.html#sphinx.builders.html.HTMLTranslator.depart_field_name">[docs]</a>    <span class="k">def</span> <span class="nf">depart_field_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;:&lt;/th&gt;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">pop</span><span class="p">())</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_figure"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_figure.html#sphinx.builders.html.HTMLTranslator.visit_figure">[docs]</a>    <span class="k">def</span> <span class="nf">visit_figure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="n">atts</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;class&#39;</span><span class="p">:</span> <span class="s1">&#39;figure&#39;</span><span class="p">}</span>
        <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;width&#39;</span><span class="p">):</span>
            <span class="n">atts</span><span class="p">[</span><span class="s1">&#39;style&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;width: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">node</span><span class="p">[</span><span class="s1">&#39;width&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;align&#39;</span><span class="p">):</span>
            <span class="n">atts</span><span class="p">[</span><span class="s1">&#39;class&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="s2">&quot; align-&quot;</span> <span class="o">+</span> <span class="n">node</span><span class="p">[</span><span class="s1">&#39;align&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;div&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">atts</span><span class="p">))</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_figure"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_figure.html#sphinx.builders.html.HTMLTranslator.depart_figure">[docs]</a>    <span class="k">def</span> <span class="nf">depart_figure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/div&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_footer"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_footer.html#sphinx.builders.html.HTMLTranslator.visit_footer">[docs]</a>    <span class="k">def</span> <span class="nf">visit_footer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="p">))</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_footer"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_footer.html#sphinx.builders.html.HTMLTranslator.depart_footer">[docs]</a>    <span class="k">def</span> <span class="nf">depart_footer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="n">start</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="n">footer</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;div&#39;</span><span class="p">,</span> <span class="n">CLASS</span><span class="o">=</span><span class="s1">&#39;footer&#39;</span><span class="p">),</span>
                  <span class="s1">&#39;&lt;hr class=&quot;footer&quot; /&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">]</span>
        <span class="n">footer</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="n">start</span><span class="p">:])</span>
        <span class="n">footer</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&lt;/div&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">footer</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">footer</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body_suffix</span><span class="p">[:</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">footer</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="n">start</span><span class="p">:]</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_footnote"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_footnote.html#sphinx.builders.html.HTMLTranslator.visit_footnote">[docs]</a>    <span class="k">def</span> <span class="nf">visit_footnote</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;table&#39;</span><span class="p">,</span>
                                       <span class="n">CLASS</span><span class="o">=</span><span class="s1">&#39;docutils footnote&#39;</span><span class="p">,</span>
                                       <span class="n">frame</span><span class="o">=</span><span class="s2">&quot;void&quot;</span><span class="p">,</span> <span class="n">rules</span><span class="o">=</span><span class="s2">&quot;none&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;colgroup&gt;&lt;col class=&quot;label&quot; /&gt;&lt;col /&gt;&lt;/colgroup&gt;</span><span class="se">\n</span><span class="s1">&#39;</span>
                         <span class="s1">&#39;&lt;tbody valign=&quot;top&quot;&gt;</span><span class="se">\n</span><span class="s1">&#39;</span>
                         <span class="s1">&#39;&lt;tr&gt;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">footnote_backrefs</span><span class="p">(</span><span class="n">node</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.footnote_backrefs"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.footnote_backrefs.html#sphinx.builders.html.HTMLTranslator.footnote_backrefs">[docs]</a>    <span class="k">def</span> <span class="nf">footnote_backrefs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="n">backlinks</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">backrefs</span> <span class="o">=</span> <span class="n">node</span><span class="p">[</span><span class="s1">&#39;backrefs&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">footnote_backlinks</span> <span class="ow">and</span> <span class="n">backrefs</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">backrefs</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/a&gt;&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;a class=&quot;fn-backref&quot; href=&quot;#</span><span class="si">%s</span><span class="s1">&quot;&gt;&#39;</span>
                                    <span class="o">%</span> <span class="n">backrefs</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span>
                <span class="k">for</span> <span class="n">backref</span> <span class="ow">in</span> <span class="n">backrefs</span><span class="p">:</span>
                    <span class="n">backlinks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;a class=&quot;fn-backref&quot; href=&quot;#</span><span class="si">%s</span><span class="s1">&quot;&gt;</span><span class="si">%s</span><span class="s1">&lt;/a&gt;&#39;</span>
                                     <span class="o">%</span> <span class="p">(</span><span class="n">backref</span><span class="p">,</span> <span class="n">i</span><span class="p">))</span>
                    <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;em&gt;(</span><span class="si">%s</span><span class="s1">)&lt;/em&gt; &#39;</span> <span class="o">%</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">backlinks</span><span class="p">))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">context</span> <span class="o">+=</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">context</span> <span class="o">+=</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">]</span>
        <span class="c1"># If the node does not only consist of a label.</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">node</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="c1"># If there are preceding backlinks, we do not set class</span>
            <span class="c1"># &#39;first&#39;, because we need to retain the top-margin.</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">backlinks</span><span class="p">:</span>
                <span class="n">node</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;classes&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;first&#39;</span><span class="p">)</span>
            <span class="n">node</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;classes&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;last&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_footnote"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_footnote.html#sphinx.builders.html.HTMLTranslator.depart_footnote">[docs]</a>    <span class="k">def</span> <span class="nf">depart_footnote</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/td&gt;&lt;/tr&gt;</span><span class="se">\n</span><span class="s1">&#39;</span>
                         <span class="s1">&#39;&lt;/tbody&gt;</span><span class="se">\n</span><span class="s1">&lt;/table&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_footnote_reference"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_footnote_reference.html#sphinx.builders.html.HTMLTranslator.visit_footnote_reference">[docs]</a>    <span class="k">def</span> <span class="nf">visit_footnote_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="n">href</span> <span class="o">=</span> <span class="s1">&#39;#&#39;</span> <span class="o">+</span> <span class="n">node</span><span class="p">[</span><span class="s1">&#39;refid&#39;</span><span class="p">]</span>
        <span class="n">format</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">footnote_references</span>
        <span class="k">if</span> <span class="n">format</span> <span class="o">==</span> <span class="s1">&#39;brackets&#39;</span><span class="p">:</span>
            <span class="n">suffix</span> <span class="o">=</span> <span class="s1">&#39;[&#39;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;]&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">assert</span> <span class="n">format</span> <span class="o">==</span> <span class="s1">&#39;superscript&#39;</span>
            <span class="n">suffix</span> <span class="o">=</span> <span class="s1">&#39;&lt;sup&gt;&#39;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/sup&gt;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span>
                                       <span class="n">CLASS</span><span class="o">=</span><span class="s1">&#39;footnote-reference&#39;</span><span class="p">,</span> <span class="n">href</span><span class="o">=</span><span class="n">href</span><span class="p">))</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_footnote_reference"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_footnote_reference.html#sphinx.builders.html.HTMLTranslator.depart_footnote_reference">[docs]</a>    <span class="k">def</span> <span class="nf">depart_footnote_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;&lt;/a&gt;&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_generated"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_generated.html#sphinx.builders.html.HTMLTranslator.visit_generated">[docs]</a>    <span class="k">def</span> <span class="nf">visit_generated</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_generated"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_generated.html#sphinx.builders.html.HTMLTranslator.depart_generated">[docs]</a>    <span class="k">def</span> <span class="nf">depart_generated</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_header"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_header.html#sphinx.builders.html.HTMLTranslator.visit_header">[docs]</a>    <span class="k">def</span> <span class="nf">visit_header</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="p">))</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_header"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_header.html#sphinx.builders.html.HTMLTranslator.depart_header">[docs]</a>    <span class="k">def</span> <span class="nf">depart_header</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="n">start</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="n">header</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;div&#39;</span><span class="p">,</span> <span class="n">CLASS</span><span class="o">=</span><span class="s1">&#39;header&#39;</span><span class="p">)]</span>
        <span class="n">header</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="n">start</span><span class="p">:])</span>
        <span class="n">header</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&lt;hr class=&quot;header&quot;/&gt;</span><span class="se">\n</span><span class="s1">&lt;/div&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body_prefix</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">header</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">header</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">header</span><span class="p">)</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="n">start</span><span class="p">:]</span></div>

    <span class="k">def</span> <span class="nf">visit_image</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="n">atts</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">uri</span> <span class="o">=</span> <span class="n">node</span><span class="p">[</span><span class="s1">&#39;uri&#39;</span><span class="p">]</span>
        <span class="c1"># place SVG and SWF images in an &lt;object&gt; element</span>
        <span class="n">types</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;.svg&#39;</span><span class="p">:</span> <span class="s1">&#39;image/svg+xml&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;.swf&#39;</span><span class="p">:</span> <span class="s1">&#39;application/x-shockwave-flash&#39;</span><span class="p">}</span>
        <span class="n">ext</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">uri</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">ext</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;.svg&#39;</span><span class="p">,</span> <span class="s1">&#39;.swf&#39;</span><span class="p">):</span>
            <span class="n">atts</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">uri</span>
            <span class="n">atts</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">types</span><span class="p">[</span><span class="n">ext</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">atts</span><span class="p">[</span><span class="s1">&#39;src&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">uri</span>
            <span class="n">atts</span><span class="p">[</span><span class="s1">&#39;alt&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;alt&#39;</span><span class="p">,</span> <span class="n">uri</span><span class="p">)</span>
        <span class="c1"># image size</span>
        <span class="k">if</span> <span class="s1">&#39;width&#39;</span> <span class="ow">in</span> <span class="n">node</span><span class="p">:</span>
            <span class="n">atts</span><span class="p">[</span><span class="s1">&#39;width&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">node</span><span class="p">[</span><span class="s1">&#39;width&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="s1">&#39;height&#39;</span> <span class="ow">in</span> <span class="n">node</span><span class="p">:</span>
            <span class="n">atts</span><span class="p">[</span><span class="s1">&#39;height&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">node</span><span class="p">[</span><span class="s1">&#39;height&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="s1">&#39;scale&#39;</span> <span class="ow">in</span> <span class="n">node</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">PIL</span> <span class="ow">and</span> <span class="ow">not</span> <span class="p">(</span><span class="s1">&#39;width&#39;</span> <span class="ow">in</span> <span class="n">node</span> <span class="ow">and</span> <span class="s1">&#39;height&#39;</span> <span class="ow">in</span> <span class="n">node</span><span class="p">)</span>
                <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">file_insertion_enabled</span><span class="p">):</span>
                <span class="n">imagepath</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">url2pathname</span><span class="p">(</span><span class="n">uri</span><span class="p">)</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">img</span> <span class="o">=</span> <span class="n">PIL</span><span class="o">.</span><span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span>
                            <span class="n">imagepath</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">getfilesystemencoding</span><span class="p">()))</span>
                <span class="k">except</span> <span class="p">(</span><span class="ne">IOError</span><span class="p">,</span> <span class="ne">UnicodeEncodeError</span><span class="p">):</span>
                    <span class="k">pass</span> <span class="c1"># TODO: warn?</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">record_dependencies</span><span class="o">.</span><span class="n">add</span><span class="p">(</span>
                        <span class="n">imagepath</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;/&#39;</span><span class="p">))</span>
                    <span class="k">if</span> <span class="s1">&#39;width&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">atts</span><span class="p">:</span>
                        <span class="n">atts</span><span class="p">[</span><span class="s1">&#39;width&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%d</span><span class="s1">px&#39;</span> <span class="o">%</span> <span class="n">img</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                    <span class="k">if</span> <span class="s1">&#39;height&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">atts</span><span class="p">:</span>
                        <span class="n">atts</span><span class="p">[</span><span class="s1">&#39;height&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%d</span><span class="s1">px&#39;</span> <span class="o">%</span> <span class="n">img</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                    <span class="k">del</span> <span class="n">img</span>
            <span class="k">for</span> <span class="n">att_name</span> <span class="ow">in</span> <span class="s1">&#39;width&#39;</span><span class="p">,</span> <span class="s1">&#39;height&#39;</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">att_name</span> <span class="ow">in</span> <span class="n">atts</span><span class="p">:</span>
                    <span class="n">match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s1">r&#39;([0-9.]+)(\S*)$&#39;</span><span class="p">,</span> <span class="n">atts</span><span class="p">[</span><span class="n">att_name</span><span class="p">])</span>
                    <span class="k">assert</span> <span class="n">match</span>
                    <span class="n">atts</span><span class="p">[</span><span class="n">att_name</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span>
                        <span class="nb">float</span><span class="p">(</span><span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span> <span class="o">*</span> <span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">node</span><span class="p">[</span><span class="s1">&#39;scale&#39;</span><span class="p">])</span> <span class="o">/</span> <span class="mi">100</span><span class="p">),</span>
                        <span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
        <span class="n">style</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">att_name</span> <span class="ow">in</span> <span class="s1">&#39;width&#39;</span><span class="p">,</span> <span class="s1">&#39;height&#39;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">att_name</span> <span class="ow">in</span> <span class="n">atts</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s1">r&#39;^[0-9.]+$&#39;</span><span class="p">,</span> <span class="n">atts</span><span class="p">[</span><span class="n">att_name</span><span class="p">]):</span>
                    <span class="c1"># Interpret unitless values as pixels.</span>
                    <span class="n">atts</span><span class="p">[</span><span class="n">att_name</span><span class="p">]</span> <span class="o">+=</span> <span class="s1">&#39;px&#39;</span>
                <span class="n">style</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">: </span><span class="si">%s</span><span class="s1">;&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">att_name</span><span class="p">,</span> <span class="n">atts</span><span class="p">[</span><span class="n">att_name</span><span class="p">]))</span>
                <span class="k">del</span> <span class="n">atts</span><span class="p">[</span><span class="n">att_name</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">style</span><span class="p">:</span>
            <span class="n">atts</span><span class="p">[</span><span class="s1">&#39;style&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">style</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">nodes</span><span class="o">.</span><span class="n">TextElement</span><span class="p">)</span> <span class="ow">or</span>
            <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">nodes</span><span class="o">.</span><span class="n">reference</span><span class="p">)</span> <span class="ow">and</span>
             <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">nodes</span><span class="o">.</span><span class="n">TextElement</span><span class="p">))):</span>
            <span class="c1"># Inline context or surrounded by &lt;a&gt;...&lt;/a&gt;.</span>
            <span class="n">suffix</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">suffix</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="k">if</span> <span class="s1">&#39;align&#39;</span> <span class="ow">in</span> <span class="n">node</span><span class="p">:</span>
            <span class="n">atts</span><span class="p">[</span><span class="s1">&#39;class&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;align-</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">node</span><span class="p">[</span><span class="s1">&#39;align&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">ext</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;.svg&#39;</span><span class="p">,</span> <span class="s1">&#39;.swf&#39;</span><span class="p">):</span> <span class="c1"># place in an object element,</span>
            <span class="c1"># do NOT use an empty tag: incorrect rendering in browsers</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;object&#39;</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="o">**</span><span class="n">atts</span><span class="p">)</span> <span class="o">+</span>
                             <span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;alt&#39;</span><span class="p">,</span> <span class="n">uri</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;&lt;/object&gt;&#39;</span> <span class="o">+</span> <span class="n">suffix</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">emptytag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;img&#39;</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="o">**</span><span class="n">atts</span><span class="p">))</span>

<div class="viewcode-block" id="HTMLTranslator.depart_image"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_image.html#sphinx.builders.html.HTMLTranslator.depart_image">[docs]</a>    <span class="k">def</span> <span class="nf">depart_image</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">pop</span><span class="p">())</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_inline"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_inline.html#sphinx.builders.html.HTMLTranslator.visit_inline">[docs]</a>    <span class="k">def</span> <span class="nf">visit_inline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;span&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">))</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_inline"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_inline.html#sphinx.builders.html.HTMLTranslator.depart_inline">[docs]</a>    <span class="k">def</span> <span class="nf">depart_inline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/span&gt;&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_label"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_label.html#sphinx.builders.html.HTMLTranslator.visit_label">[docs]</a>    <span class="k">def</span> <span class="nf">visit_label</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="c1"># Context added in footnote_backrefs.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;td&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">[&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">pop</span><span class="p">(),</span>
                                       <span class="n">CLASS</span><span class="o">=</span><span class="s1">&#39;label&#39;</span><span class="p">))</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_label"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_label.html#sphinx.builders.html.HTMLTranslator.depart_label">[docs]</a>    <span class="k">def</span> <span class="nf">depart_label</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="c1"># Context added in footnote_backrefs.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;]</span><span class="si">%s</span><span class="s1">&lt;/td&gt;&lt;td&gt;</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">pop</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">pop</span><span class="p">()))</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_legend"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_legend.html#sphinx.builders.html.HTMLTranslator.visit_legend">[docs]</a>    <span class="k">def</span> <span class="nf">visit_legend</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;div&#39;</span><span class="p">,</span> <span class="n">CLASS</span><span class="o">=</span><span class="s1">&#39;legend&#39;</span><span class="p">))</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_legend"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_legend.html#sphinx.builders.html.HTMLTranslator.depart_legend">[docs]</a>    <span class="k">def</span> <span class="nf">depart_legend</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/div&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_line"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_line.html#sphinx.builders.html.HTMLTranslator.visit_line">[docs]</a>    <span class="k">def</span> <span class="nf">visit_line</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;div&#39;</span><span class="p">,</span> <span class="n">suffix</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">CLASS</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">len</span><span class="p">(</span><span class="n">node</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;br /&gt;&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_line"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_line.html#sphinx.builders.html.HTMLTranslator.depart_line">[docs]</a>    <span class="k">def</span> <span class="nf">depart_line</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/div&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_line_block"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_line_block.html#sphinx.builders.html.HTMLTranslator.visit_line_block">[docs]</a>    <span class="k">def</span> <span class="nf">visit_line_block</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;div&#39;</span><span class="p">,</span> <span class="n">CLASS</span><span class="o">=</span><span class="s1">&#39;line-block&#39;</span><span class="p">))</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_line_block"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_line_block.html#sphinx.builders.html.HTMLTranslator.depart_line_block">[docs]</a>    <span class="k">def</span> <span class="nf">depart_line_block</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/div&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_list_item"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_list_item.html#sphinx.builders.html.HTMLTranslator.visit_list_item">[docs]</a>    <span class="k">def</span> <span class="nf">visit_list_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;li&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">))</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">node</span><span class="p">):</span>
            <span class="n">node</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;classes&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;first&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_list_item"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_list_item.html#sphinx.builders.html.HTMLTranslator.depart_list_item">[docs]</a>    <span class="k">def</span> <span class="nf">depart_list_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/li&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">visit_literal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="c1"># special case: &quot;code&quot; role</span>
        <span class="n">classes</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;classes&#39;</span><span class="p">,</span> <span class="p">[])</span>
        <span class="k">if</span> <span class="s1">&#39;code&#39;</span> <span class="ow">in</span> <span class="n">classes</span><span class="p">:</span>
            <span class="c1"># filter &#39;code&#39; from class arguments</span>
            <span class="n">node</span><span class="p">[</span><span class="s1">&#39;classes&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">cls</span> <span class="k">for</span> <span class="n">cls</span> <span class="ow">in</span> <span class="n">classes</span> <span class="k">if</span> <span class="n">cls</span> <span class="o">!=</span> <span class="s1">&#39;code&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;code&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">))</span>
            <span class="k">return</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;tt&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">CLASS</span><span class="o">=</span><span class="s1">&#39;docutils literal&#39;</span><span class="p">))</span>
        <span class="n">text</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">astext</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">words_and_spaces</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">token</span><span class="o">.</span><span class="n">strip</span><span class="p">():</span>
                <span class="c1"># Protect text like &quot;--an-option&quot; and the regular expression</span>
                <span class="c1"># ``[+]?(\d+(\.\d*)?|\.\d+)`` from bad line wrapping</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sollbruchstelle</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">token</span><span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;span class=&quot;pre&quot;&gt;</span><span class="si">%s</span><span class="s1">&lt;/span&gt;&#39;</span>
                                     <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">token</span><span class="p">))</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">token</span><span class="p">))</span>
            <span class="k">elif</span> <span class="n">token</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">):</span>
                <span class="c1"># Allow breaks at whitespace:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">token</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># Protect runs of multiple spaces; the last space can wrap:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&amp;nbsp;&#39;</span> <span class="o">*</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">token</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/tt&gt;&#39;</span><span class="p">)</span>
        <span class="c1"># Content already processed:</span>
        <span class="k">raise</span> <span class="n">nodes</span><span class="o">.</span><span class="n">SkipNode</span>

    <span class="k">def</span> <span class="nf">depart_literal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="c1"># skipped unless literal element is from &quot;code&quot; role:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/code&gt;&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">visit_literal_block</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;pre&#39;</span><span class="p">,</span> <span class="n">CLASS</span><span class="o">=</span><span class="s1">&#39;literal-block&#39;</span><span class="p">))</span>

<div class="viewcode-block" id="HTMLTranslator.depart_literal_block"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_literal_block.html#sphinx.builders.html.HTMLTranslator.depart_literal_block">[docs]</a>    <span class="k">def</span> <span class="nf">depart_literal_block</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&lt;/pre&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">visit_math</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">,</span> <span class="n">math_env</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="c1"># If the method is called from visit_math_block(), math_env != &#39;&#39;.</span>

        <span class="c1"># As there is no native HTML math support, we provide alternatives:</span>
        <span class="c1"># LaTeX and MathJax math_output modes simply wrap the content,</span>
        <span class="c1"># HTML and MathML math_output modes also convert the math_code.</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">math_output</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;mathml&#39;</span><span class="p">,</span> <span class="s1">&#39;html&#39;</span><span class="p">,</span> <span class="s1">&#39;mathjax&#39;</span><span class="p">,</span> <span class="s1">&#39;latex&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">document</span><span class="o">.</span><span class="n">reporter</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="s1">&#39;math-output format &quot;</span><span class="si">%s</span><span class="s1">&quot; not supported &#39;</span>
                <span class="s1">&#39;falling back to &quot;latex&quot;&#39;</span><span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">math_output</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">math_output</span> <span class="o">=</span> <span class="s1">&#39;latex&#39;</span>
        <span class="c1">#</span>
        <span class="c1"># HTML container</span>
        <span class="n">tags</span> <span class="o">=</span> <span class="p">{</span><span class="c1"># math_output: (block, inline, class-arguments)</span>
                <span class="s1">&#39;mathml&#39;</span><span class="p">:</span>      <span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">),</span>
                <span class="s1">&#39;html&#39;</span><span class="p">:</span>        <span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">,</span> <span class="s1">&#39;span&#39;</span><span class="p">,</span> <span class="s1">&#39;formula&#39;</span><span class="p">),</span>
                <span class="s1">&#39;mathjax&#39;</span><span class="p">:</span>     <span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">,</span> <span class="s1">&#39;span&#39;</span><span class="p">,</span> <span class="s1">&#39;math&#39;</span><span class="p">),</span>
                <span class="s1">&#39;latex&#39;</span><span class="p">:</span>       <span class="p">(</span><span class="s1">&#39;pre&#39;</span><span class="p">,</span> <span class="s1">&#39;tt&#39;</span><span class="p">,</span>   <span class="s1">&#39;math&#39;</span><span class="p">),</span>
               <span class="p">}</span>
        <span class="n">tag</span> <span class="o">=</span> <span class="n">tags</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">math_output</span><span class="p">][</span><span class="n">math_env</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">]</span>
        <span class="n">clsarg</span> <span class="o">=</span> <span class="n">tags</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">math_output</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span>
        <span class="c1"># LaTeX container</span>
        <span class="n">wrappers</span> <span class="o">=</span> <span class="p">{</span><span class="c1"># math_mode: (inline, block)</span>
                    <span class="s1">&#39;mathml&#39;</span><span class="p">:</span>  <span class="p">(</span><span class="bp">None</span><span class="p">,</span>     <span class="bp">None</span><span class="p">),</span>
                    <span class="s1">&#39;html&#39;</span><span class="p">:</span>    <span class="p">(</span><span class="s1">&#39;$</span><span class="si">%s</span><span class="s1">$&#39;</span><span class="p">,</span>   <span class="s1">u&#39;</span><span class="se">\\</span><span class="s1">begin{</span><span class="si">%s</span><span class="s1">}</span><span class="se">\n</span><span class="si">%s</span><span class="se">\n\\</span><span class="s1">end{</span><span class="si">%s</span><span class="s1">}&#39;</span><span class="p">),</span>
                    <span class="s1">&#39;mathjax&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;\(</span><span class="si">%s</span><span class="s1">\)&#39;</span><span class="p">,</span> <span class="s1">u&#39;</span><span class="se">\\</span><span class="s1">begin{</span><span class="si">%s</span><span class="s1">}</span><span class="se">\n</span><span class="si">%s</span><span class="se">\n\\</span><span class="s1">end{</span><span class="si">%s</span><span class="s1">}&#39;</span><span class="p">),</span>
                    <span class="s1">&#39;latex&#39;</span><span class="p">:</span>   <span class="p">(</span><span class="bp">None</span><span class="p">,</span>     <span class="bp">None</span><span class="p">),</span>
                   <span class="p">}</span>
        <span class="n">wrapper</span> <span class="o">=</span> <span class="n">wrappers</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">math_output</span><span class="p">][</span><span class="n">math_env</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">]</span>
        <span class="c1"># get and wrap content</span>
        <span class="n">math_code</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">astext</span><span class="p">()</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="n">unichar2tex</span><span class="o">.</span><span class="n">uni2tex_table</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">wrapper</span> <span class="ow">and</span> <span class="n">math_env</span><span class="p">:</span>
            <span class="n">math_code</span> <span class="o">=</span> <span class="n">wrapper</span> <span class="o">%</span> <span class="p">(</span><span class="n">math_env</span><span class="p">,</span> <span class="n">math_code</span><span class="p">,</span> <span class="n">math_env</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">wrapper</span><span class="p">:</span>
            <span class="n">math_code</span> <span class="o">=</span> <span class="n">wrapper</span> <span class="o">%</span> <span class="n">math_code</span>
        <span class="c1"># settings and conversion</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">math_output</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;latex&#39;</span><span class="p">,</span> <span class="s1">&#39;mathjax&#39;</span><span class="p">):</span>
            <span class="n">math_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">math_code</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">math_output</span> <span class="o">==</span> <span class="s1">&#39;mathjax&#39;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">math_header</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">math_output_options</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">mathjax_url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">math_output_options</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">math_header</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">mathjax_script</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">mathjax_url</span><span class="p">]</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">math_output</span> <span class="o">==</span> <span class="s1">&#39;html&#39;</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">math_output_options</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">math_header</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">math_header</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">stylesheet_call</span><span class="p">(</span>
                    <span class="n">utils</span><span class="o">.</span><span class="n">find_file_in_dirs</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">stylesheet_dirs</span><span class="p">))</span>
                    <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">math_output_options</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)]</span>
            <span class="c1"># TODO: fix display mode in matrices and fractions</span>
            <span class="n">math2html</span><span class="o">.</span><span class="n">DocumentParameters</span><span class="o">.</span><span class="n">displaymode</span> <span class="o">=</span> <span class="p">(</span><span class="n">math_env</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
            <span class="n">math_code</span> <span class="o">=</span> <span class="n">math2html</span><span class="o">.</span><span class="n">math2html</span><span class="p">(</span><span class="n">math_code</span><span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">math_output</span> <span class="o">==</span> <span class="s1">&#39;mathml&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">doctype</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">doctype_mathml</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">content_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">content_type_mathml</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">mathml_tree</span> <span class="o">=</span> <span class="n">parse_latex_math</span><span class="p">(</span><span class="n">math_code</span><span class="p">,</span> <span class="n">inline</span><span class="o">=</span><span class="ow">not</span><span class="p">(</span><span class="n">math_env</span><span class="p">))</span>
                <span class="n">math_code</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">mathml_tree</span><span class="o">.</span><span class="n">xml</span><span class="p">())</span>
            <span class="k">except</span> <span class="ne">SyntaxError</span><span class="p">,</span> <span class="n">err</span><span class="p">:</span>
                <span class="n">err_node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">document</span><span class="o">.</span><span class="n">reporter</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">err</span><span class="p">,</span> <span class="n">base_node</span><span class="o">=</span><span class="n">node</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">visit_system_message</span><span class="p">(</span><span class="n">err_node</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">u&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">err</span><span class="o">.</span><span class="n">args</span><span class="p">))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/p&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;pre&#39;</span><span class="p">,</span>
                                               <span class="n">CLASS</span><span class="o">=</span><span class="s1">&#39;literal-block&#39;</span><span class="p">))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">math_code</span><span class="p">))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&lt;/pre&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">depart_system_message</span><span class="p">(</span><span class="n">err_node</span><span class="p">)</span>
                <span class="k">raise</span> <span class="n">nodes</span><span class="o">.</span><span class="n">SkipNode</span>
        <span class="c1"># append to document body</span>
        <span class="k">if</span> <span class="n">tag</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span>
                                           <span class="n">suffix</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">*</span><span class="nb">bool</span><span class="p">(</span><span class="n">math_env</span><span class="p">),</span>
                                           <span class="n">CLASS</span><span class="o">=</span><span class="n">clsarg</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">math_code</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">math_env</span><span class="p">:</span> <span class="c1"># block mode (equation, display)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">tag</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/</span><span class="si">%s</span><span class="s1">&gt;&#39;</span> <span class="o">%</span> <span class="n">tag</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">math_env</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="c1"># Content already processed:</span>
        <span class="k">raise</span> <span class="n">nodes</span><span class="o">.</span><span class="n">SkipNode</span>

<div class="viewcode-block" id="HTMLTranslator.depart_math"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_math.html#sphinx.builders.html.HTMLTranslator.depart_math">[docs]</a>    <span class="k">def</span> <span class="nf">depart_math</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="k">pass</span> <span class="c1"># never reached</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_math_block"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_math_block.html#sphinx.builders.html.HTMLTranslator.visit_math_block">[docs]</a>    <span class="k">def</span> <span class="nf">visit_math_block</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="c1"># print node.astext().encode(&#39;utf8&#39;)</span>
        <span class="n">math_env</span> <span class="o">=</span> <span class="n">pick_math_environment</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">astext</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">visit_math</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">math_env</span><span class="o">=</span><span class="n">math_env</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_math_block"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_math_block.html#sphinx.builders.html.HTMLTranslator.depart_math_block">[docs]</a>    <span class="k">def</span> <span class="nf">depart_math_block</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="k">pass</span> <span class="c1"># never reached</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_meta"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_meta.html#sphinx.builders.html.HTMLTranslator.visit_meta">[docs]</a>    <span class="k">def</span> <span class="nf">visit_meta</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="n">meta</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">emptytag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;meta&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">node</span><span class="o">.</span><span class="n">non_default_attributes</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_meta</span><span class="p">(</span><span class="n">meta</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_meta"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_meta.html#sphinx.builders.html.HTMLTranslator.depart_meta">[docs]</a>    <span class="k">def</span> <span class="nf">depart_meta</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="HTMLTranslator.add_meta"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.add_meta.html#sphinx.builders.html.HTMLTranslator.add_meta">[docs]</a>    <span class="k">def</span> <span class="nf">add_meta</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tag</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">meta</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tag</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">head</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tag</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_option"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_option.html#sphinx.builders.html.HTMLTranslator.visit_option">[docs]</a>    <span class="k">def</span> <span class="nf">visit_option</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;, &#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;span&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">CLASS</span><span class="o">=</span><span class="s1">&#39;option&#39;</span><span class="p">))</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_option"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_option.html#sphinx.builders.html.HTMLTranslator.depart_option">[docs]</a>    <span class="k">def</span> <span class="nf">depart_option</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/span&gt;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_option_argument"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_option_argument.html#sphinx.builders.html.HTMLTranslator.visit_option_argument">[docs]</a>    <span class="k">def</span> <span class="nf">visit_option_argument</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;delimiter&#39;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;var&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">))</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_option_argument"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_option_argument.html#sphinx.builders.html.HTMLTranslator.depart_option_argument">[docs]</a>    <span class="k">def</span> <span class="nf">depart_option_argument</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/var&gt;&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_option_group"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_option_group.html#sphinx.builders.html.HTMLTranslator.visit_option_group">[docs]</a>    <span class="k">def</span> <span class="nf">visit_option_group</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="n">atts</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">option_limit</span>
             <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">astext</span><span class="p">())</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">option_limit</span><span class="p">):</span>
            <span class="n">atts</span><span class="p">[</span><span class="s1">&#39;colspan&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/tr&gt;</span><span class="se">\n</span><span class="s1">&lt;tr&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;td&#39;</span><span class="p">,</span> <span class="n">CLASS</span><span class="o">=</span><span class="s1">&#39;option-group&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">atts</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;kbd&gt;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>          <span class="c1"># count number of options</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_option_group"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_option_group.html#sphinx.builders.html.HTMLTranslator.depart_option_group">[docs]</a>    <span class="k">def</span> <span class="nf">depart_option_group</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/kbd&gt;&lt;/td&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">pop</span><span class="p">())</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_option_list"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_option_list.html#sphinx.builders.html.HTMLTranslator.visit_option_list">[docs]</a>    <span class="k">def</span> <span class="nf">visit_option_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
              <span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;table&#39;</span><span class="p">,</span> <span class="n">CLASS</span><span class="o">=</span><span class="s1">&#39;docutils option-list&#39;</span><span class="p">,</span>
                            <span class="n">frame</span><span class="o">=</span><span class="s2">&quot;void&quot;</span><span class="p">,</span> <span class="n">rules</span><span class="o">=</span><span class="s2">&quot;none&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;col class=&quot;option&quot; /&gt;</span><span class="se">\n</span><span class="s1">&#39;</span>
                         <span class="s1">&#39;&lt;col class=&quot;description&quot; /&gt;</span><span class="se">\n</span><span class="s1">&#39;</span>
                         <span class="s1">&#39;&lt;tbody valign=&quot;top&quot;&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_option_list"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_option_list.html#sphinx.builders.html.HTMLTranslator.depart_option_list">[docs]</a>    <span class="k">def</span> <span class="nf">depart_option_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/tbody&gt;</span><span class="se">\n</span><span class="s1">&lt;/table&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_option_list_item"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_option_list_item.html#sphinx.builders.html.HTMLTranslator.visit_option_list_item">[docs]</a>    <span class="k">def</span> <span class="nf">visit_option_list_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;tr&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">))</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_option_list_item"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_option_list_item.html#sphinx.builders.html.HTMLTranslator.depart_option_list_item">[docs]</a>    <span class="k">def</span> <span class="nf">depart_option_list_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/tr&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_option_string"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_option_string.html#sphinx.builders.html.HTMLTranslator.visit_option_string">[docs]</a>    <span class="k">def</span> <span class="nf">visit_option_string</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_option_string"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_option_string.html#sphinx.builders.html.HTMLTranslator.depart_option_string">[docs]</a>    <span class="k">def</span> <span class="nf">depart_option_string</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_organization"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_organization.html#sphinx.builders.html.HTMLTranslator.visit_organization">[docs]</a>    <span class="k">def</span> <span class="nf">visit_organization</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">visit_docinfo_item</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;organization&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_organization"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_organization.html#sphinx.builders.html.HTMLTranslator.depart_organization">[docs]</a>    <span class="k">def</span> <span class="nf">depart_organization</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">depart_docinfo_item</span><span class="p">()</span></div>

    <span class="k">def</span> <span class="nf">should_be_compact_paragraph</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Determine if the &lt;p&gt; tags around paragraph ``node`` can be omitted.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">nodes</span><span class="o">.</span><span class="n">document</span><span class="p">)</span> <span class="ow">or</span>
            <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">nodes</span><span class="o">.</span><span class="n">compound</span><span class="p">)):</span>
            <span class="c1"># Never compact paragraphs in document or compound.</span>
            <span class="k">return</span> <span class="bp">False</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">node</span><span class="o">.</span><span class="n">attlist</span><span class="p">():</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">is_not_default</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="ow">and</span>
                <span class="ow">not</span> <span class="p">(</span><span class="n">key</span> <span class="o">==</span> <span class="s1">&#39;classes&#39;</span> <span class="ow">and</span> <span class="n">value</span> <span class="ow">in</span>
                     <span class="p">([],</span> <span class="p">[</span><span class="s1">&#39;first&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;last&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;first&#39;</span><span class="p">,</span> <span class="s1">&#39;last&#39;</span><span class="p">]))):</span>
                <span class="c1"># Attribute which needs to survive.</span>
                <span class="k">return</span> <span class="bp">False</span>
        <span class="n">first</span> <span class="o">=</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">parent</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">nodes</span><span class="o">.</span><span class="n">label</span><span class="p">)</span> <span class="c1"># skip label</span>
        <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">node</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">first</span><span class="p">:]:</span>
            <span class="c1"># only first paragraph can be compact</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">child</span><span class="p">,</span> <span class="n">nodes</span><span class="o">.</span><span class="n">Invisible</span><span class="p">):</span>
                <span class="k">continue</span>
            <span class="k">if</span> <span class="n">child</span> <span class="ow">is</span> <span class="n">node</span><span class="p">:</span>
                <span class="k">break</span>
            <span class="k">return</span> <span class="bp">False</span>
        <span class="n">parent_length</span> <span class="o">=</span> <span class="nb">len</span><span class="p">([</span><span class="n">n</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">node</span><span class="o">.</span><span class="n">parent</span> <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span>
            <span class="n">n</span><span class="p">,</span> <span class="p">(</span><span class="n">nodes</span><span class="o">.</span><span class="n">Invisible</span><span class="p">,</span> <span class="n">nodes</span><span class="o">.</span><span class="n">label</span><span class="p">))])</span>
        <span class="k">if</span> <span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">compact_simple</span>
             <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">compact_field_list</span>
             <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">compact_p</span> <span class="ow">and</span> <span class="n">parent_length</span> <span class="o">==</span> <span class="mi">1</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">True</span>
        <span class="k">return</span> <span class="bp">False</span>

<div class="viewcode-block" id="HTMLTranslator.visit_paragraph"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_paragraph.html#sphinx.builders.html.HTMLTranslator.visit_paragraph">[docs]</a>    <span class="k">def</span> <span class="nf">visit_paragraph</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">should_be_compact_paragraph</span><span class="p">(</span><span class="n">node</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/p&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_paragraph"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_paragraph.html#sphinx.builders.html.HTMLTranslator.depart_paragraph">[docs]</a>    <span class="k">def</span> <span class="nf">depart_paragraph</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">pop</span><span class="p">())</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_problematic"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_problematic.html#sphinx.builders.html.HTMLTranslator.visit_problematic">[docs]</a>    <span class="k">def</span> <span class="nf">visit_problematic</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">hasattr</span><span class="p">(</span><span class="s1">&#39;refid&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;a href=&quot;#</span><span class="si">%s</span><span class="s1">&quot;&gt;&#39;</span> <span class="o">%</span> <span class="n">node</span><span class="p">[</span><span class="s1">&#39;refid&#39;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/a&gt;&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;span&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">CLASS</span><span class="o">=</span><span class="s1">&#39;problematic&#39;</span><span class="p">))</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_problematic"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_problematic.html#sphinx.builders.html.HTMLTranslator.depart_problematic">[docs]</a>    <span class="k">def</span> <span class="nf">depart_problematic</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/span&gt;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">pop</span><span class="p">())</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_raw"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_raw.html#sphinx.builders.html.HTMLTranslator.visit_raw">[docs]</a>    <span class="k">def</span> <span class="nf">visit_raw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="k">if</span> <span class="s1">&#39;html&#39;</span> <span class="ow">in</span> <span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;format&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">():</span>
            <span class="n">t</span> <span class="o">=</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">nodes</span><span class="o">.</span><span class="n">TextElement</span><span class="p">)</span> <span class="ow">and</span> <span class="s1">&#39;span&#39;</span> <span class="ow">or</span> <span class="s1">&#39;div&#39;</span>
            <span class="k">if</span> <span class="n">node</span><span class="p">[</span><span class="s1">&#39;classes&#39;</span><span class="p">]:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">suffix</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">astext</span><span class="p">())</span>
            <span class="k">if</span> <span class="n">node</span><span class="p">[</span><span class="s1">&#39;classes&#39;</span><span class="p">]:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/</span><span class="si">%s</span><span class="s1">&gt;&#39;</span> <span class="o">%</span> <span class="n">t</span><span class="p">)</span>
        <span class="c1"># Keep non-HTML raw text out of output:</span>
        <span class="k">raise</span> <span class="n">nodes</span><span class="o">.</span><span class="n">SkipNode</span></div>

    <span class="k">def</span> <span class="nf">visit_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="n">atts</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;class&#39;</span><span class="p">:</span> <span class="s1">&#39;reference&#39;</span><span class="p">}</span>
        <span class="k">if</span> <span class="s1">&#39;refuri&#39;</span> <span class="ow">in</span> <span class="n">node</span><span class="p">:</span>
            <span class="n">atts</span><span class="p">[</span><span class="s1">&#39;href&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">node</span><span class="p">[</span><span class="s1">&#39;refuri&#39;</span><span class="p">]</span>
            <span class="k">if</span> <span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">cloak_email_addresses</span>
                 <span class="ow">and</span> <span class="n">atts</span><span class="p">[</span><span class="s1">&#39;href&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;mailto:&#39;</span><span class="p">)):</span>
                <span class="n">atts</span><span class="p">[</span><span class="s1">&#39;href&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cloak_mailto</span><span class="p">(</span><span class="n">atts</span><span class="p">[</span><span class="s1">&#39;href&#39;</span><span class="p">])</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">in_mailto</span> <span class="o">=</span> <span class="bp">True</span>
            <span class="n">atts</span><span class="p">[</span><span class="s1">&#39;class&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="s1">&#39; external&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">assert</span> <span class="s1">&#39;refid&#39;</span> <span class="ow">in</span> <span class="n">node</span><span class="p">,</span> \
                   <span class="s1">&#39;References must have &quot;refuri&quot; or &quot;refid&quot; attribute.&#39;</span>
            <span class="n">atts</span><span class="p">[</span><span class="s1">&#39;href&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;#&#39;</span> <span class="o">+</span> <span class="n">node</span><span class="p">[</span><span class="s1">&#39;refid&#39;</span><span class="p">]</span>
            <span class="n">atts</span><span class="p">[</span><span class="s1">&#39;class&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="s1">&#39; internal&#39;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">nodes</span><span class="o">.</span><span class="n">TextElement</span><span class="p">):</span>
            <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">node</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">nodes</span><span class="o">.</span><span class="n">image</span><span class="p">)</span>
            <span class="n">atts</span><span class="p">[</span><span class="s1">&#39;class&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="s1">&#39; image-reference&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">atts</span><span class="p">))</span>

<div class="viewcode-block" id="HTMLTranslator.depart_reference"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_reference.html#sphinx.builders.html.HTMLTranslator.depart_reference">[docs]</a>    <span class="k">def</span> <span class="nf">depart_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/a&gt;&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">nodes</span><span class="o">.</span><span class="n">TextElement</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">in_mailto</span> <span class="o">=</span> <span class="bp">False</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_revision"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_revision.html#sphinx.builders.html.HTMLTranslator.visit_revision">[docs]</a>    <span class="k">def</span> <span class="nf">visit_revision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">visit_docinfo_item</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;revision&#39;</span><span class="p">,</span> <span class="n">meta</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_revision"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_revision.html#sphinx.builders.html.HTMLTranslator.depart_revision">[docs]</a>    <span class="k">def</span> <span class="nf">depart_revision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">depart_docinfo_item</span><span class="p">()</span></div>

    <span class="k">def</span> <span class="nf">visit_row</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;tr&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">))</span>
        <span class="n">node</span><span class="o">.</span><span class="n">column</span> <span class="o">=</span> <span class="mi">0</span>

<div class="viewcode-block" id="HTMLTranslator.depart_row"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_row.html#sphinx.builders.html.HTMLTranslator.depart_row">[docs]</a>    <span class="k">def</span> <span class="nf">depart_row</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/tr&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_rubric"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_rubric.html#sphinx.builders.html.HTMLTranslator.visit_rubric">[docs]</a>    <span class="k">def</span> <span class="nf">visit_rubric</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">CLASS</span><span class="o">=</span><span class="s1">&#39;rubric&#39;</span><span class="p">))</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_rubric"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_rubric.html#sphinx.builders.html.HTMLTranslator.depart_rubric">[docs]</a>    <span class="k">def</span> <span class="nf">depart_rubric</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/p&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_section"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_section.html#sphinx.builders.html.HTMLTranslator.visit_section">[docs]</a>    <span class="k">def</span> <span class="nf">visit_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">section_level</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;div&#39;</span><span class="p">,</span> <span class="n">CLASS</span><span class="o">=</span><span class="s1">&#39;section&#39;</span><span class="p">))</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_section"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_section.html#sphinx.builders.html.HTMLTranslator.depart_section">[docs]</a>    <span class="k">def</span> <span class="nf">depart_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">section_level</span> <span class="o">-=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/div&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_sidebar"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_sidebar.html#sphinx.builders.html.HTMLTranslator.visit_sidebar">[docs]</a>    <span class="k">def</span> <span class="nf">visit_sidebar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;div&#39;</span><span class="p">,</span> <span class="n">CLASS</span><span class="o">=</span><span class="s1">&#39;sidebar&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_first_last</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">in_sidebar</span> <span class="o">=</span> <span class="bp">True</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_sidebar"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_sidebar.html#sphinx.builders.html.HTMLTranslator.depart_sidebar">[docs]</a>    <span class="k">def</span> <span class="nf">depart_sidebar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/div&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">in_sidebar</span> <span class="o">=</span> <span class="bp">False</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_status"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_status.html#sphinx.builders.html.HTMLTranslator.visit_status">[docs]</a>    <span class="k">def</span> <span class="nf">visit_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">visit_docinfo_item</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;status&#39;</span><span class="p">,</span> <span class="n">meta</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_status"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_status.html#sphinx.builders.html.HTMLTranslator.depart_status">[docs]</a>    <span class="k">def</span> <span class="nf">depart_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">depart_docinfo_item</span><span class="p">()</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_strong"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_strong.html#sphinx.builders.html.HTMLTranslator.visit_strong">[docs]</a>    <span class="k">def</span> <span class="nf">visit_strong</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;strong&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">))</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_strong"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_strong.html#sphinx.builders.html.HTMLTranslator.depart_strong">[docs]</a>    <span class="k">def</span> <span class="nf">depart_strong</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/strong&gt;&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_subscript"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_subscript.html#sphinx.builders.html.HTMLTranslator.visit_subscript">[docs]</a>    <span class="k">def</span> <span class="nf">visit_subscript</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;sub&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">))</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_subscript"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_subscript.html#sphinx.builders.html.HTMLTranslator.depart_subscript">[docs]</a>    <span class="k">def</span> <span class="nf">depart_subscript</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/sub&gt;&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_substitution_definition"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_substitution_definition.html#sphinx.builders.html.HTMLTranslator.visit_substitution_definition">[docs]</a>    <span class="k">def</span> <span class="nf">visit_substitution_definition</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Internal only.&quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="n">nodes</span><span class="o">.</span><span class="n">SkipNode</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_substitution_reference"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_substitution_reference.html#sphinx.builders.html.HTMLTranslator.visit_substitution_reference">[docs]</a>    <span class="k">def</span> <span class="nf">visit_substitution_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">unimplemented_visit</span><span class="p">(</span><span class="n">node</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_subtitle"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_subtitle.html#sphinx.builders.html.HTMLTranslator.visit_subtitle">[docs]</a>    <span class="k">def</span> <span class="nf">visit_subtitle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">nodes</span><span class="o">.</span><span class="n">sidebar</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
                                           <span class="n">CLASS</span><span class="o">=</span><span class="s1">&#39;sidebar-subtitle&#39;</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/p&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">nodes</span><span class="o">.</span><span class="n">document</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;h2&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">CLASS</span><span class="o">=</span><span class="s1">&#39;subtitle&#39;</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/h2&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">in_document_title</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">nodes</span><span class="o">.</span><span class="n">section</span><span class="p">):</span>
            <span class="n">tag</span> <span class="o">=</span> <span class="s1">&#39;h</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">section_level</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">initial_header_level</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">CLASS</span><span class="o">=</span><span class="s1">&#39;section-subtitle&#39;</span><span class="p">)</span> <span class="o">+</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">({},</span> <span class="s1">&#39;span&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">CLASS</span><span class="o">=</span><span class="s1">&#39;section-subtitle&#39;</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/span&gt;&lt;/</span><span class="si">%s</span><span class="s1">&gt;</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">tag</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_subtitle"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_subtitle.html#sphinx.builders.html.HTMLTranslator.depart_subtitle">[docs]</a>    <span class="k">def</span> <span class="nf">depart_subtitle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">pop</span><span class="p">())</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">in_document_title</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">subtitle</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">in_document_title</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">in_document_title</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">body_pre_docinfo</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">html_subtitle</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="p">)</span>
            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="p">[:]</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_superscript"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_superscript.html#sphinx.builders.html.HTMLTranslator.visit_superscript">[docs]</a>    <span class="k">def</span> <span class="nf">visit_superscript</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;sup&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">))</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_superscript"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_superscript.html#sphinx.builders.html.HTMLTranslator.depart_superscript">[docs]</a>    <span class="k">def</span> <span class="nf">depart_superscript</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/sup&gt;&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_system_message"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_system_message.html#sphinx.builders.html.HTMLTranslator.visit_system_message">[docs]</a>    <span class="k">def</span> <span class="nf">visit_system_message</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;div&#39;</span><span class="p">,</span> <span class="n">CLASS</span><span class="o">=</span><span class="s1">&#39;system-message&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;p class=&quot;system-message-title&quot;&gt;&#39;</span><span class="p">)</span>
        <span class="n">backref_text</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">node</span><span class="p">[</span><span class="s1">&#39;backrefs&#39;</span><span class="p">]):</span>
            <span class="n">backrefs</span> <span class="o">=</span> <span class="n">node</span><span class="p">[</span><span class="s1">&#39;backrefs&#39;</span><span class="p">]</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">backrefs</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">backref_text</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;; &lt;em&gt;&lt;a href=&quot;#</span><span class="si">%s</span><span class="s1">&quot;&gt;backlink&lt;/a&gt;&lt;/em&gt;&#39;</span>
                                <span class="o">%</span> <span class="n">backrefs</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span>
                <span class="n">backlinks</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">for</span> <span class="n">backref</span> <span class="ow">in</span> <span class="n">backrefs</span><span class="p">:</span>
                    <span class="n">backlinks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;a href=&quot;#</span><span class="si">%s</span><span class="s1">&quot;&gt;</span><span class="si">%s</span><span class="s1">&lt;/a&gt;&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">backref</span><span class="p">,</span> <span class="n">i</span><span class="p">))</span>
                    <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">backref_text</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;; &lt;em&gt;backlinks: </span><span class="si">%s</span><span class="s1">&lt;/em&gt;&#39;</span>
                                <span class="o">%</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">backlinks</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">hasattr</span><span class="p">(</span><span class="s1">&#39;line&#39;</span><span class="p">):</span>
            <span class="n">line</span> <span class="o">=</span> <span class="s1">&#39;, line </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">node</span><span class="p">[</span><span class="s1">&#39;line&#39;</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">line</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;System Message: </span><span class="si">%s</span><span class="s1">/</span><span class="si">%s</span><span class="s1"> &#39;</span>
                         <span class="s1">&#39;(&lt;tt class=&quot;docutils&quot;&gt;</span><span class="si">%s</span><span class="s1">&lt;/tt&gt;</span><span class="si">%s</span><span class="s1">)</span><span class="si">%s</span><span class="s1">&lt;/p&gt;</span><span class="se">\n</span><span class="s1">&#39;</span>
                         <span class="o">%</span> <span class="p">(</span><span class="n">node</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">],</span> <span class="n">node</span><span class="p">[</span><span class="s1">&#39;level&#39;</span><span class="p">],</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">node</span><span class="p">[</span><span class="s1">&#39;source&#39;</span><span class="p">]),</span> <span class="n">line</span><span class="p">,</span> <span class="n">backref_text</span><span class="p">))</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_system_message"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_system_message.html#sphinx.builders.html.HTMLTranslator.depart_system_message">[docs]</a>    <span class="k">def</span> <span class="nf">depart_system_message</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/div&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">visit_table</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">compact_p</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">compact_p</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="n">classes</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="s1">&#39;docutils&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">table_style</span><span class="p">])</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;table&#39;</span><span class="p">,</span> <span class="n">CLASS</span><span class="o">=</span><span class="n">classes</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="s2">&quot;1&quot;</span><span class="p">))</span>

<div class="viewcode-block" id="HTMLTranslator.depart_table"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_table.html#sphinx.builders.html.HTMLTranslator.depart_table">[docs]</a>    <span class="k">def</span> <span class="nf">depart_table</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">compact_p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/table&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_target"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_target.html#sphinx.builders.html.HTMLTranslator.visit_target">[docs]</a>    <span class="k">def</span> <span class="nf">visit_target</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="s1">&#39;refuri&#39;</span> <span class="ow">in</span> <span class="n">node</span> <span class="ow">or</span> <span class="s1">&#39;refid&#39;</span> <span class="ow">in</span> <span class="n">node</span>
                <span class="ow">or</span> <span class="s1">&#39;refname&#39;</span> <span class="ow">in</span> <span class="n">node</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;span&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">CLASS</span><span class="o">=</span><span class="s1">&#39;target&#39;</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/span&gt;&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_target"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_target.html#sphinx.builders.html.HTMLTranslator.depart_target">[docs]</a>    <span class="k">def</span> <span class="nf">depart_target</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">pop</span><span class="p">())</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_tbody"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_tbody.html#sphinx.builders.html.HTMLTranslator.visit_tbody">[docs]</a>    <span class="k">def</span> <span class="nf">visit_tbody</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_colspecs</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">pop</span><span class="p">())</span> <span class="c1"># &#39;&lt;/colgroup&gt;\n&#39; or &#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;tbody&#39;</span><span class="p">,</span> <span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">))</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_tbody"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_tbody.html#sphinx.builders.html.HTMLTranslator.depart_tbody">[docs]</a>    <span class="k">def</span> <span class="nf">depart_tbody</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/tbody&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_term"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_term.html#sphinx.builders.html.HTMLTranslator.visit_term">[docs]</a>    <span class="k">def</span> <span class="nf">visit_term</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;dt&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">))</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_term"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_term.html#sphinx.builders.html.HTMLTranslator.depart_term">[docs]</a>    <span class="k">def</span> <span class="nf">depart_term</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Leave the end tag to `self.visit_definition()`, in case there&#39;s a</span>
<span class="sd">        classifier.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_tgroup"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_tgroup.html#sphinx.builders.html.HTMLTranslator.visit_tgroup">[docs]</a>    <span class="k">def</span> <span class="nf">visit_tgroup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="c1"># Mozilla needs &lt;colgroup&gt;:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;colgroup&#39;</span><span class="p">))</span>
        <span class="c1"># Appended by thead or tbody:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/colgroup&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">node</span><span class="o">.</span><span class="n">stubs</span> <span class="o">=</span> <span class="p">[]</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_tgroup"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_tgroup.html#sphinx.builders.html.HTMLTranslator.depart_tgroup">[docs]</a>    <span class="k">def</span> <span class="nf">depart_tgroup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_thead"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_thead.html#sphinx.builders.html.HTMLTranslator.visit_thead">[docs]</a>    <span class="k">def</span> <span class="nf">visit_thead</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_colspecs</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">pop</span><span class="p">())</span> <span class="c1"># &#39;&lt;/colgroup&gt;\n&#39;</span>
        <span class="c1"># There may or may not be a &lt;thead&gt;; this is for &lt;tbody&gt; to use:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;thead&#39;</span><span class="p">,</span> <span class="n">valign</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">))</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_thead"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_thead.html#sphinx.builders.html.HTMLTranslator.depart_thead">[docs]</a>    <span class="k">def</span> <span class="nf">depart_thead</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/thead&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">visit_title</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Only 6 section levels are supported by HTML.&quot;&quot;&quot;</span>
        <span class="n">check_id</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># TODO: is this a bool (False) or a counter?</span>
        <span class="n">close_tag</span> <span class="o">=</span> <span class="s1">&#39;&lt;/p&gt;</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">nodes</span><span class="o">.</span><span class="n">topic</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                  <span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">CLASS</span><span class="o">=</span><span class="s1">&#39;topic-title first&#39;</span><span class="p">))</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">nodes</span><span class="o">.</span><span class="n">sidebar</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                  <span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">CLASS</span><span class="o">=</span><span class="s1">&#39;sidebar-title&#39;</span><span class="p">))</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">nodes</span><span class="o">.</span><span class="n">Admonition</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                  <span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">CLASS</span><span class="o">=</span><span class="s1">&#39;admonition-title&#39;</span><span class="p">))</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">nodes</span><span class="o">.</span><span class="n">table</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                  <span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;caption&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">))</span>
            <span class="n">close_tag</span> <span class="o">=</span> <span class="s1">&#39;&lt;/caption&gt;</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">nodes</span><span class="o">.</span><span class="n">document</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;h1&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">CLASS</span><span class="o">=</span><span class="s1">&#39;title&#39;</span><span class="p">))</span>
            <span class="n">close_tag</span> <span class="o">=</span> <span class="s1">&#39;&lt;/h1&gt;</span><span class="se">\n</span><span class="s1">&#39;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">in_document_title</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">nodes</span><span class="o">.</span><span class="n">section</span><span class="p">)</span>
            <span class="n">h_level</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">section_level</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">initial_header_level</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="n">atts</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">if</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">parent</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">2</span> <span class="ow">and</span>
                <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">parent</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">nodes</span><span class="o">.</span><span class="n">subtitle</span><span class="p">)):</span>
                <span class="n">atts</span><span class="p">[</span><span class="s1">&#39;CLASS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;with-subtitle&#39;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                  <span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;h</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">h_level</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">atts</span><span class="p">))</span>
            <span class="n">atts</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">hasattr</span><span class="p">(</span><span class="s1">&#39;refid&#39;</span><span class="p">):</span>
                <span class="n">atts</span><span class="p">[</span><span class="s1">&#39;class&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;toc-backref&#39;</span>
                <span class="n">atts</span><span class="p">[</span><span class="s1">&#39;href&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;#&#39;</span> <span class="o">+</span> <span class="n">node</span><span class="p">[</span><span class="s1">&#39;refid&#39;</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">atts</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">({},</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">atts</span><span class="p">))</span>
                <span class="n">close_tag</span> <span class="o">=</span> <span class="s1">&#39;&lt;/a&gt;&lt;/h</span><span class="si">%s</span><span class="s1">&gt;</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">h_level</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">close_tag</span> <span class="o">=</span> <span class="s1">&#39;&lt;/h</span><span class="si">%s</span><span class="s1">&gt;</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">h_level</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">close_tag</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">depart_title</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">pop</span><span class="p">())</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">in_document_title</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">in_document_title</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">in_document_title</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">body_pre_docinfo</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">html_title</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="p">)</span>
            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="p">[:]</span>

<div class="viewcode-block" id="HTMLTranslator.visit_title_reference"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_title_reference.html#sphinx.builders.html.HTMLTranslator.visit_title_reference">[docs]</a>    <span class="k">def</span> <span class="nf">visit_title_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;cite&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">))</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_title_reference"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_title_reference.html#sphinx.builders.html.HTMLTranslator.depart_title_reference">[docs]</a>    <span class="k">def</span> <span class="nf">depart_title_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/cite&gt;&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_topic"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_topic.html#sphinx.builders.html.HTMLTranslator.visit_topic">[docs]</a>    <span class="k">def</span> <span class="nf">visit_topic</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;div&#39;</span><span class="p">,</span> <span class="n">CLASS</span><span class="o">=</span><span class="s1">&#39;topic&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">topic_classes</span> <span class="o">=</span> <span class="n">node</span><span class="p">[</span><span class="s1">&#39;classes&#39;</span><span class="p">]</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_topic"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_topic.html#sphinx.builders.html.HTMLTranslator.depart_topic">[docs]</a>    <span class="k">def</span> <span class="nf">depart_topic</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/div&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">topic_classes</span> <span class="o">=</span> <span class="p">[]</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_transition"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_transition.html#sphinx.builders.html.HTMLTranslator.visit_transition">[docs]</a>    <span class="k">def</span> <span class="nf">visit_transition</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">emptytag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;hr&#39;</span><span class="p">,</span> <span class="n">CLASS</span><span class="o">=</span><span class="s1">&#39;docutils&#39;</span><span class="p">))</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_transition"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_transition.html#sphinx.builders.html.HTMLTranslator.depart_transition">[docs]</a>    <span class="k">def</span> <span class="nf">depart_transition</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="HTMLTranslator.visit_version"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.visit_version.html#sphinx.builders.html.HTMLTranslator.visit_version">[docs]</a>    <span class="k">def</span> <span class="nf">visit_version</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">visit_docinfo_item</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;version&#39;</span><span class="p">,</span> <span class="n">meta</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span></div>

<div class="viewcode-block" id="HTMLTranslator.depart_version"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.depart_version.html#sphinx.builders.html.HTMLTranslator.depart_version">[docs]</a>    <span class="k">def</span> <span class="nf">depart_version</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">depart_docinfo_item</span><span class="p">()</span></div>

<div class="viewcode-block" id="HTMLTranslator.unimplemented_visit"><a class="viewcode-back" href="../../../generated/generated/sphinx.builders.html.HTMLTranslator.unimplemented_visit.html#sphinx.builders.html.HTMLTranslator.unimplemented_visit">[docs]</a>    <span class="k">def</span> <span class="nf">unimplemented_visit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s1">&#39;visiting unimplemented node type: </span><span class="si">%s</span><span class="s1">&#39;</span>
                                  <span class="o">%</span> <span class="n">node</span><span class="o">.</span><span class="n">__class__</span><span class="o">.</span><span class="n">__name__</span><span class="p">)</span></div>


<span class="k">class</span> <span class="nc">SimpleListChecker</span><span class="p">(</span><span class="n">nodes</span><span class="o">.</span><span class="n">GenericNodeVisitor</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Raise `nodes.NodeFound` if non-simple list item is encountered.</span>

<span class="sd">    Here &quot;simple&quot; means a list item containing nothing other than a single</span>
<span class="sd">    paragraph, a simple list, or a paragraph followed by a simple list.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">default_visit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">nodes</span><span class="o">.</span><span class="n">NodeFound</span>

    <span class="k">def</span> <span class="nf">visit_bullet_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">visit_enumerated_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">visit_list_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="n">children</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">node</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">child</span><span class="p">,</span> <span class="n">nodes</span><span class="o">.</span><span class="n">Invisible</span><span class="p">):</span>
                <span class="n">children</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">child</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">children</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">children</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">nodes</span><span class="o">.</span><span class="n">paragraph</span><span class="p">)</span>
            <span class="ow">and</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">children</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">nodes</span><span class="o">.</span><span class="n">bullet_list</span><span class="p">)</span>
                 <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">children</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">nodes</span><span class="o">.</span><span class="n">enumerated_list</span><span class="p">))):</span>
            <span class="n">children</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">children</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">nodes</span><span class="o">.</span><span class="n">NodeFound</span>

    <span class="k">def</span> <span class="nf">visit_paragraph</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">nodes</span><span class="o">.</span><span class="n">SkipNode</span>

    <span class="k">def</span> <span class="nf">invisible_visit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Invisible nodes should be ignored.&quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="n">nodes</span><span class="o">.</span><span class="n">SkipNode</span>

    <span class="n">visit_comment</span> <span class="o">=</span> <span class="n">invisible_visit</span>
    <span class="n">visit_substitution_definition</span> <span class="o">=</span> <span class="n">invisible_visit</span>
    <span class="n">visit_target</span> <span class="o">=</span> <span class="n">invisible_visit</span>
    <span class="n">visit_pending</span> <span class="o">=</span> <span class="n">invisible_visit</span>
</pre></div>

           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../../_static/copybutton.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>